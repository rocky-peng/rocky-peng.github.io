import{_ as p,$ as l,a0 as o,a1 as n,a3 as t,a4 as e,a5 as c,a2 as s,w as i}from"./framework-8c4427da.js";const u={},r=c(`<p>已很经典的菜单为例，假设结构如下：</p><ul><li>id</li><li>parent_id</li><li>name</li><li>xxx1</li><li>xxx2</li><li>….</li></ul><p>按照一比一构造一个类（只增加一个children字段）：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">XXXX</span><span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">Long</span> parentId<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">String</span> xxx1<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">String</span> xxx2<span class="token punctuation">;</span>

	<span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>XXXX<span class="token punctuation">&gt;</span></span> children<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>XXXX<span class="token punctuation">&gt;</span></span> <span class="token function">treeMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>XXXX<span class="token punctuation">&gt;</span></span> xxxxs <span class="token operator">=</span> xxxxDao<span class="token punctuation">.</span><span class="token function">menuList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//第一步分组</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span>XXXX<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> parentId2Children <span class="token operator">=</span>
        xxxxs<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">groupingBy</span><span class="token punctuation">(</span>i <span class="token operator">-&gt;</span> i<span class="token punctuation">.</span><span class="token function">getParentId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//第二步构造树</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>XXXX<span class="token punctuation">&gt;</span></span> roots <span class="token operator">=</span> parentId2Children<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">0L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">buildTree</span><span class="token punctuation">(</span>roots<span class="token punctuation">,</span> parentId2Children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> roots<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">buildTree</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>XXXX<span class="token punctuation">&gt;</span></span> parents<span class="token punctuation">,</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Long</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span>XXXX<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> parentId2Children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">CollUtil</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>parents<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    parents<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">Comparator</span><span class="token punctuation">.</span><span class="token function">comparing</span><span class="token punctuation">(</span><span class="token constant">XXXX</span><span class="token operator">::</span><span class="token function">getId</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token constant">XXXX</span> parent <span class="token operator">:</span> parents<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>XXXX<span class="token punctuation">&gt;</span></span> children <span class="token operator">=</span> parentId2Children<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        parent<span class="token punctuation">.</span><span class="token function">setChildren</span><span class="token punctuation">(</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">buildTree</span><span class="token punctuation">(</span>children<span class="token punctuation">,</span> parentId2Children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><br><h2 id="系统推荐" tabindex="-1"><a class="header-anchor" href="#系统推荐" aria-hidden="true">#</a> 系统推荐</h2>`,7),d=n("p",null,[n("br"),n("br"),n("br"),n("br"),n("br"),n("br")],-1),k=n("hr",null,null,-1),m=n("hr",null,null,-1),v=n("ul",null,[n("li",null,[n("strong",null,"随机毒鸡汤"),s("：小时候的梦想是当一个英雄，没想到手机里就能轻松实现，而且选择还挺多的呢。 "),n("br"),n("br"),n("img",{src:"https://images.pexels.com/photos/6552208/pexels-photo-6552208.jpeg?auto=compress&cs=tinysrgb&h=650&w=940",alt:"Dramatic aerial view of lush green mountains and a winding road under a cloudy sky.",loading:"lazy"})])],-1);function b(h,g){const a=i("RouterLink");return l(),o("div",null,[r,n("ul",null,[n("li",null,[t(a,{to:"/software/middleware/mysql/MySQL%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html"},{default:e(()=>[s("MySQL常用命令")]),_:1})]),n("li",null,[t(a,{to:"/other/MySQL%E9%AB%98%E5%8F%AF%E7%94%A8.html"},{default:e(()=>[s("MySQL高可用")]),_:1})]),n("li",null,[t(a,{to:"/software/spring/Spring%20Cloud%EF%BC%88%E4%B8%80%EF%BC%89%EF%BC%9A%E6%9C%8D%E5%8A%A1%E6%B2%BB%E7%90%86%E6%8A%80%E6%9C%AF%E6%A6%82%E8%A7%88%E3%80%90Finchley%20%E7%89%88%E3%80%91.html"},{default:e(()=>[s("Spring Cloud（一）：服务治理技术概览【Finchley 版】")]),_:1})]),n("li",null,[t(a,{to:"/other/Cornell%20Notes%20System.html"},{default:e(()=>[s("Cornell Notes System")]),_:1})]),n("li",null,[t(a,{to:"/other/Paxos%E7%AE%97%E6%B3%95.html"},{default:e(()=>[s("Paxos算法")]),_:1})]),n("li",null,[t(a,{to:"/software/middleware/mysql/%E5%BC%82%E5%9C%B0%E5%A4%9A%E6%B4%BB.html"},{default:e(()=>[s("异地多活")]),_:1})]),n("li",null,[t(a,{to:"/software/middleware/mysql/MySQL%E4%B8%89%E5%A4%A7%E6%97%A5%E5%BF%97.html"},{default:e(()=>[s("MySQL三大日志")]),_:1})]),n("li",null,[t(a,{to:"/software/shodowsocks/ShadowsockServer%E9%85%8D%E7%BD%AE.html"},{default:e(()=>[s("ShadowsockServer配置")]),_:1})]),n("li",null,[t(a,{to:"/software/middleware/es/ES%E6%9D%82%E9%A1%B9.html"},{default:e(()=>[s("ES杂项")]),_:1})]),n("li",null,[t(a,{to:"/software/spring/SpringCloud%E6%80%BB%E4%BD%93%E8%AE%A4%E8%AF%86.html"},{default:e(()=>[s("SpringCloud总体认识")]),_:1})]),n("li",null,[t(a,{to:"/other/Hbase%20%E6%80%BB%E8%A7%88.html"},{default:e(()=>[s("Hbase 总览")]),_:1})]),n("li",null,[t(a,{to:"/other/WebSocket%20SpringBoot%20Demo.html"},{default:e(()=>[s("WebSocket SpringBoot Demo")]),_:1})])]),d,k,m,v])}const _=p(u,[["render",b],["__file","数组转树形结构只需两步.html.vue"]]);export{_ as default};
