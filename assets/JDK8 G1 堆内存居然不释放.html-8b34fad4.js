const n=JSON.parse('{"key":"v-17201fa8","path":"/other/JDK8%20G1%20%E5%A0%86%E5%86%85%E5%AD%98%E5%B1%85%E7%84%B6%E4%B8%8D%E9%87%8A%E6%94%BE.html","title":"JDK8 G1 堆内存居然不释放","lang":"zh-CN","frontmatter":{"title":"JDK8 G1 堆内存居然不释放","date":"2025-05-09T00:00:00.000Z","description":"背景 k8s环境中有个pod，pod里跑了一个java进程。 采用的是jdk版本是openjdk version \\"1.8.0_342\\"。 启动时有这些jvm参数： -server -Dspring.datasource.druid.maxActive=80 -XX:MaxGCPauseMillis=200 -XX:+UseG1GC -XX:+UseContainerSupport -XX:MinRAMPercentage=20.0 -XX:MaxRAMPercentage=70.0 -Djava.security.egd=file:/dev/./urandom -Duser.timezone=GMT+08 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/mnt/log -XX:+UnlockExperimentalVMOptions","head":[["link",{"rel":"canonical","href":"https://justsoso.fun/other/JDK8%20G1%20%E5%A0%86%E5%86%85%E5%AD%98%E5%B1%85%E7%84%B6%E4%B8%8D%E9%87%8A%E6%94%BE.html"}],["meta",{"property":"og:url","content":"https://justsoso.fun/other/JDK8%20G1%20%E5%A0%86%E5%86%85%E5%AD%98%E5%B1%85%E7%84%B6%E4%B8%8D%E9%87%8A%E6%94%BE.html"}],["meta",{"property":"og:site_name","content":"技术加油站"}],["meta",{"property":"og:title","content":"JDK8 G1 堆内存居然不释放"}],["meta",{"property":"og:description","content":"背景 k8s环境中有个pod，pod里跑了一个java进程。 采用的是jdk版本是openjdk version \\"1.8.0_342\\"。 启动时有这些jvm参数： -server -Dspring.datasource.druid.maxActive=80 -XX:MaxGCPauseMillis=200 -XX:+UseG1GC -XX:+UseContainerSupport -XX:MinRAMPercentage=20.0 -XX:MaxRAMPercentage=70.0 -Djava.security.egd=file:/dev/./urandom -Duser.timezone=GMT+08 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/mnt/log -XX:+UnlockExperimentalVMOptions"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-21T17:18:01.000Z"}],["meta",{"property":"article:published_time","content":"2025-05-09T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-21T17:18:01.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"JDK8 G1 堆内存居然不释放\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-05-09T00:00:00.000Z\\",\\"dateModified\\":\\"2025-05-21T17:18:01.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"背景","slug":"背景","link":"#背景","children":[]},{"level":2,"title":"排查过程","slug":"排查过程","link":"#排查过程","children":[{"level":3,"title":"怀疑存在内存泄漏或内存溢出","slug":"怀疑存在内存泄漏或内存溢出","link":"#怀疑存在内存泄漏或内存溢出","children":[]},{"level":3,"title":"查看gc情况","slug":"查看gc情况","link":"#查看gc情况","children":[]}]},{"level":2,"title":"解决","slug":"解决","link":"#解决","children":[]},{"level":2,"title":"后文","slug":"后文","link":"#后文","children":[]},{"level":2,"title":"系统推荐","slug":"系统推荐","link":"#系统推荐","children":[]}],"git":{"createdTime":1746804066000,"updatedTime":1747847881000,"contributors":[{"name":"rocky-peng","email":"rocky.peng@qq.com","commits":62}]},"readingTime":{"minutes":4.57,"words":1370},"filePathRelative":"other/JDK8 G1 堆内存居然不释放.md","localizedDate":"2025年5月9日","excerpt":"<h2> 背景</h2>\\n<p>k8s环境中有个pod，pod里跑了一个java进程。  采用的是jdk版本是openjdk version \\"1.8.0_342\\"。 启动时有这些jvm参数：</p>\\n<div class=\\"language-jsx line-numbers-mode\\" data-ext=\\"jsx\\"><pre class=\\"language-jsx\\"><code><span class=\\"token operator\\">-</span>server \\n<span class=\\"token operator\\">-</span>Dspring<span class=\\"token punctuation\\">.</span>datasource<span class=\\"token punctuation\\">.</span>druid<span class=\\"token punctuation\\">.</span>maxActive<span class=\\"token operator\\">=</span><span class=\\"token number\\">80</span> \\n<span class=\\"token operator\\">-</span><span class=\\"token constant\\">XX</span><span class=\\"token operator\\">:</span>MaxGCPauseMillis<span class=\\"token operator\\">=</span><span class=\\"token number\\">200</span> \\n<span class=\\"token operator\\">-</span><span class=\\"token constant\\">XX</span><span class=\\"token operator\\">:</span><span class=\\"token operator\\">+</span>UseG1GC \\n<span class=\\"token operator\\">-</span><span class=\\"token constant\\">XX</span><span class=\\"token operator\\">:</span><span class=\\"token operator\\">+</span>UseContainerSupport \\n<span class=\\"token operator\\">-</span><span class=\\"token constant\\">XX</span><span class=\\"token operator\\">:</span>MinRAMPercentage<span class=\\"token operator\\">=</span><span class=\\"token number\\">20.0</span> \\n<span class=\\"token operator\\">-</span><span class=\\"token constant\\">XX</span><span class=\\"token operator\\">:</span>MaxRAMPercentage<span class=\\"token operator\\">=</span><span class=\\"token number\\">70.0</span> \\n<span class=\\"token operator\\">-</span>Djava<span class=\\"token punctuation\\">.</span>security<span class=\\"token punctuation\\">.</span>egd<span class=\\"token operator\\">=</span>file<span class=\\"token operator\\">:</span><span class=\\"token regex\\"><span class=\\"token regex-delimiter\\">/</span><span class=\\"token regex-source language-regex\\">dev</span><span class=\\"token regex-delimiter\\">/</span></span><span class=\\"token punctuation\\">.</span><span class=\\"token operator\\">/</span>urandom \\n<span class=\\"token operator\\">-</span>Duser<span class=\\"token punctuation\\">.</span>timezone<span class=\\"token operator\\">=</span><span class=\\"token constant\\">GMT</span><span class=\\"token operator\\">+</span><span class=\\"token number\\">08</span> \\n<span class=\\"token operator\\">-</span><span class=\\"token constant\\">XX</span><span class=\\"token operator\\">:</span><span class=\\"token operator\\">+</span>HeapDumpOnOutOfMemoryError  \\n<span class=\\"token operator\\">-</span><span class=\\"token constant\\">XX</span><span class=\\"token operator\\">:</span>HeapDumpPath<span class=\\"token operator\\">=</span><span class=\\"token operator\\">/</span>mnt<span class=\\"token operator\\">/</span>log \\n<span class=\\"token operator\\">-</span><span class=\\"token constant\\">XX</span><span class=\\"token operator\\">:</span><span class=\\"token operator\\">+</span>UnlockExperimentalVMOptions\\n</code></pre><div class=\\"line-numbers\\" aria-hidden=\\"true\\"><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div><div class=\\"line-number\\"></div></div></div>","copyright":{},"autoDesc":true}');export{n as data};
