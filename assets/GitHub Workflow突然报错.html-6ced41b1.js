import{_ as e,$ as p,a0 as l,a1 as s,a3 as t,a4 as o,a5 as c,a2 as n,w as r}from"./framework-8c4427da.js";const i={},u=c(`<p>再github上跑了一个工作流，主要就是执行<code>npm install</code>，<code>npm run docs:build</code></p><p>使用的package.json如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-blogs&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-blogs&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;docs:build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress build src&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;docs:clean-dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev src --clean-cache&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;docs:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev src&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;@vuepress/client&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.61&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@vuepress/plugin-google-analytics&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.0-beta.61&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.47&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.61&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress-plugin-china-search-console&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.1.5&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress-plugin-components&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.184&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress-plugin-search-pro&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.184&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress-theme-hope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.184&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再workflow中指定了node的版本是：16.18.1</p><p>上面的配置一直都在正常跑，估计正常跑了大半年之久，突然在2024-01-26号github发来npm install报错邮件。</p><p>错误信息大致如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>npm <span class="token constant">ERR</span><span class="token operator">!</span> code <span class="token constant">ERESOLVE</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token constant">ERESOLVE</span> unable <span class="token keyword">to</span> <span class="token namespace">resolve</span> dependency tree
npm <span class="token constant">ERR</span><span class="token operator">!</span> 
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">While</span> resolving<span class="token operator">:</span> my<span class="token operator">-</span>blogs<span class="token annotation punctuation">@2.0.0</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">Found</span><span class="token operator">:</span> vuepress<span class="token annotation punctuation">@2.0.0</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">61</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> node_modules<span class="token operator">/</span>vuepress
npm <span class="token constant">ERR</span><span class="token operator">!</span>   dev vuepress@<span class="token string">&quot;2.0.0-beta.61&quot;</span> from the root project
npm <span class="token constant">ERR</span><span class="token operator">!</span> 
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">Could</span> not resolve dependency<span class="token operator">:</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> peer vuepress@<span class="token string">&quot;2.0.0-rc.2&quot;</span> from <span class="token annotation punctuation">@vuepress</span><span class="token operator">/</span>plugin<span class="token operator">-</span>google<span class="token operator">-</span>analytics<span class="token annotation punctuation">@2.0.0</span><span class="token operator">-</span>rc<span class="token punctuation">.</span><span class="token number">1</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> node_modules<span class="token operator">/</span><span class="token annotation punctuation">@vuepress</span><span class="token operator">/</span>plugin<span class="token operator">-</span>google<span class="token operator">-</span>analytics
npm <span class="token constant">ERR</span><span class="token operator">!</span>   dev <span class="token annotation punctuation">@vuepress</span><span class="token operator">/</span>plugin<span class="token operator">-</span>google<span class="token operator">-</span>analytics@<span class="token string">&quot;^2.0.0-beta.61&quot;</span> from the root project
npm <span class="token constant">ERR</span><span class="token operator">!</span> 
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">Fix</span> the upstream dependency conflict<span class="token punctuation">,</span> or retry
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token keyword">this</span> command <span class="token keyword">with</span> <span class="token operator">--</span>force<span class="token punctuation">,</span> or <span class="token operator">--</span>legacy<span class="token operator">-</span>peer<span class="token operator">-</span>deps
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token keyword">to</span> <span class="token namespace">accept</span> an incorrect <span class="token punctuation">(</span>and potentially broken<span class="token punctuation">)</span> dependency resolution<span class="token punctuation">.</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> 
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">See</span> <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span><span class="token punctuation">.</span>npm<span class="token operator">/</span>eresolve<span class="token operator">-</span>report<span class="token punctuation">.</span>txt <span class="token keyword">for</span> a full report<span class="token punctuation">.</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">A</span> complete log of <span class="token keyword">this</span> run can be found in<span class="token operator">:</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span>     <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span><span class="token punctuation">.</span>npm<span class="token operator">/</span>_logs<span class="token operator">/</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">29</span><span class="token constant">T10_29_19_566Z</span><span class="token operator">-</span>debug<span class="token operator">-</span><span class="token number">0.l</span>og
<span class="token class-name">Error</span><span class="token operator">:</span> <span class="token class-name">Process</span> completed <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">1.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后本地用同样的node版本，同样的配置执行又可以正常执行</p><p>然后各种搜资料，问CHATGPT，都没能正常解决。后来无意发现package.json文件中有<code>^</code> 符合，这个符合是做一些版本兼容用的。</p><p>具体来说，如果一个包的版本号是 <strong><code>^X.Y.Z</code></strong>，那么 npm 将会允许安装的版本范围包括从 <strong><code>X.Y.Z</code></strong> 到 <strong><code>X.(Y+1).0</code></strong> 的任何版本，但不包括主版本号 <strong><code>X</code></strong> 的更改</p><p>这也就解释了，为什么package.json中明明没有2.0.0-rc.2版本的依赖，但错误信息却有。</p><p>所以尝试着把<code>^</code> 删除，然后重试，<strong><code>成功了</code></strong></p><figure><img src="https://cdn.justdopay.top/notion/md5-e23817114a2dc4f30cb612c3c699c423.svg" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><br><h2 id="系统推荐" tabindex="-1"><a class="header-anchor" href="#系统推荐" aria-hidden="true">#</a> 系统推荐</h2>`,15),d=s("p",null,[s("br"),s("br"),s("br"),s("br"),s("br"),s("br")],-1),k=s("hr",null,null,-1),m=s("hr",null,null,-1),v=s("ul",null,[s("li",null,[s("strong",null,"随机毒鸡汤"),n("：人不能低下高贵的头，但捡钱时例外。 "),s("br"),s("br"),s("img",{src:"https://images.pexels.com/photos/1181287/pexels-photo-1181287.jpeg?auto=compress&cs=tinysrgb&h=650&w=940",alt:"Woman working at a laptop with tech-themed stickers in a modern indoor setting.",loading:"lazy"})])],-1);function E(g,b){const a=r("RouterLink");return p(),l("div",null,[u,s("ul",null,[s("li",null,[t(a,{to:"/software/unclassified/Git%E7%AC%94%E8%AE%B0.html"},{default:o(()=>[n("Git笔记")]),_:1})]),s("li",null,[t(a,{to:"/software/unclassified/KVM%20%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%AE%89%E8%A3%85.html"},{default:o(()=>[n("KVM 虚拟机安装")]),_:1})]),s("li",null,[t(a,{to:"/other/%E6%98%AF%E6%97%B6%E5%80%99%E4%BD%BF%E7%94%A8MapStruct%E6%9B%BF%E4%BB%A3BeanUtils%E4%BA%86.html"},{default:o(()=>[n("是时候使用MapStruct替代BeanUtils了")]),_:1})]),s("li",null,[t(a,{to:"/other/K8S%20%E6%97%A0%E6%84%9F%E5%8F%91%E5%B8%83.html"},{default:o(()=>[n("K8S 无感发布")]),_:1})]),s("li",null,[t(a,{to:"/other/Spring%20RetryTemplate.html"},{default:o(()=>[n("Spring RetryTemplate")]),_:1})]),s("li",null,[t(a,{to:"/software/unclassified/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D%E7%AC%AC%E5%87%A0%E4%B8%AA%E7%AC%A6%E5%8F%B7%E9%97%AE%E9%A2%98.html"},{default:o(()=>[n("正则表达式匹配第几个符号问题")]),_:1})]),s("li",null,[t(a,{to:"/software/shodowsocks/ShadowsockServer%E9%85%8D%E7%BD%AE.html"},{default:o(()=>[n("ShadowsockServer配置")]),_:1})]),s("li",null,[t(a,{to:"/other/Java%E8%AF%AD%E8%A8%80%E5%AE%8C%E6%88%90notion%E7%AC%94%E8%AE%B0%E5%A4%87%E4%BB%BD.html"},{default:o(()=>[n("Java语言完成notion笔记备份")]),_:1})]),s("li",null,[t(a,{to:"/software/middleware/mysql/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1Seata.html"},{default:o(()=>[n("分布式事务Seata")]),_:1})]),s("li",null,[t(a,{to:"/software/middleware/mq/RocketMQ.html"},{default:o(()=>[n("RocketMQ")]),_:1})]),s("li",null,[t(a,{to:"/software/unclassified/%E6%89%B9%E9%87%8F%E6%9B%BF%E6%8D%A2%E6%96%87%E4%BB%B6%E5%90%8D%E4%B8%AD%E7%9A%84%E6%8C%87%E5%AE%9A%E5%AD%97%E7%AC%A6%E4%B8%B2.html"},{default:o(()=>[n("批量替换文件名中的指定字符串")]),_:1})]),s("li",null,[t(a,{to:"/other/Linux%20dev%20shm%E7%9B%AE%E5%BD%95.html"},{default:o(()=>[n("Linux dev shm目录")]),_:1})])]),d,k,m,v])}const h=e(i,[["render",E],["__file","GitHub Workflow突然报错.html.vue"]]);export{h as default};
