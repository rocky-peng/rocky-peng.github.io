import{g as I,s as oe,h as Ie,l as ie,U as Z,y as Et,j as pe,J as G,m as ze,o as se,H as sr,p as cr,u as fr,q as dr,Z as hr,G as H,V as vr,r as xe,t as lr,x as gr,z as xt,L as E,N as kt,P as Le,Y as Je,R as $,W as pr,$ as U,a0 as ke,a1 as br,a2 as mr,a3 as V,a4 as Oe,a5 as Nt,a6 as wr,a7 as yr,a8 as Y,a9 as _r,aa as ce,ab as jr,ac as Ct,ad as Er,ae as xr,af as Ze}from"./mermaid.esm.min-3824ce45.js";var kr="[object Symbol]";function R(e){return typeof e=="symbol"||Y(e)&&_r(e)==kr}function P(e,t){for(var r=-1,n=e==null?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}var Nr=1/0,He=I?I.prototype:void 0,Qe=He?He.toString:void 0;function It(e){if(typeof e=="string")return e;if(E(e))return P(e,It)+"";if(R(e))return Qe?Qe.call(e):"";var t=e+"";return t=="0"&&1/e==-Nr?"-0":t}var Cr=/\s/;function Ir(e){for(var t=e.length;t--&&Cr.test(e.charAt(t)););return t}var Lr=/^\s+/;function Or(e){return e&&e.slice(0,Ir(e)+1).replace(Lr,"")}var We=0/0,Mr=/^[-+]0x[0-9a-f]+$/i,Rr=/^0b[01]+$/i,Sr=/^0o[0-7]+$/i,Ar=parseInt;function Pr(e){if(typeof e=="number")return e;if(R(e))return We;if($(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Or(e);var r=Rr.test(e);return r||Sr.test(e)?Ar(e.slice(2),r?2:8):Mr.test(e)?We:+e}var Ke=1/0,$r=17976931348623157e292;function re(e){if(!e)return e===0?e:0;if(e=Pr(e),e===Ke||e===-Ke){var t=e<0?-1:1;return t*$r}return e===e?e:0}function Dr(e){var t=re(e),r=t%1;return t===t?r?t-r:t:0}function Tr(){}function Lt(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}function Ot(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Fr(e){return e!==e}function Gr(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}function Br(e,t,r){return t===t?Gr(e,t,r):Ot(e,Fr,r)}function Vr(e,t){var r=e==null?0:e.length;return!!r&&Br(e,t,0)>-1}function x(e){return se(e)?sr(e):cr(e)}var Ur=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yr=/^\w*$/;function Me(e,t){if(E(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||R(e)?!0:Yr.test(e)||!Ur.test(e)||t!=null&&e in Object(t)}var qr=500;function zr(e){var t=fr(e,function(n){return r.size===qr&&r.clear(),n}),r=t.cache;return t}var Jr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zr=/\\(\\)?/g,Hr=zr(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Jr,function(r,n,o,i){t.push(o?i.replace(Zr,"$1"):n||r)}),t});const Qr=Hr;function Mt(e){return e==null?"":It(e)}function fe(e,t){return E(e)?e:Me(e,t)?[e]:Qr(Mt(e))}var Wr=1/0;function Q(e){if(typeof e=="string"||R(e))return e;var t=e+"";return t=="0"&&1/e==-Wr?"-0":t}function de(e,t){t=fe(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Q(t[r++])];return r&&r==n?e:void 0}function Kr(e,t,r){var n=e==null?void 0:de(e,t);return n===void 0?r:n}function Re(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}var Xe=I?I.isConcatSpreadable:void 0;function Xr(e){return E(e)||kt(e)||!!(Xe&&e&&e[Xe])}function he(e,t,r,n,o){var i=-1,u=e.length;for(r||(r=Xr),o||(o=[]);++i<u;){var a=e[i];t>0&&r(a)?t>1?he(a,t-1,r,n,o):Re(o,a):n||(o[o.length]=a)}return o}function T(e){var t=e==null?0:e.length;return t?he(e,1):[]}function en(e){return dr(hr(e,void 0,T),e+"")}function tn(e,t,r,n){var o=-1,i=e==null?0:e.length;for(n&&i&&(r=e[++o]);++o<i;)r=t(r,e[o],o,e);return r}function rn(e,t){return e&&ce(t,x(t),e)}function nn(e,t){return e&&ce(t,Z(t),e)}function Rt(e,t){for(var r=-1,n=e==null?0:e.length,o=0,i=[];++r<n;){var u=e[r];t(u,r,e)&&(i[o++]=u)}return i}function St(){return[]}var on=Object.prototype,un=on.propertyIsEnumerable,et=Object.getOwnPropertySymbols,an=et?function(e){return e==null?[]:(e=Object(e),Rt(et(e),function(t){return un.call(e,t)}))}:St;const Se=an;function sn(e,t){return ce(e,Se(e),t)}var cn=Object.getOwnPropertySymbols,fn=cn?function(e){for(var t=[];e;)Re(t,Se(e)),e=xr(e);return t}:St;const At=fn;function dn(e,t){return ce(e,At(e),t)}function Pt(e,t,r){var n=t(e);return E(e)?n:Re(n,r(e))}function Ne(e){return Pt(e,x,Se)}function hn(e){return Pt(e,Z,At)}var vn=Object.prototype,ln=vn.hasOwnProperty;function gn(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&ln.call(e,"index")&&(r.index=e.index,r.input=e.input),r}function pn(e,t){var r=t?Ct(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var bn=/\w*$/;function mn(e){var t=new e.constructor(e.source,bn.exec(e));return t.lastIndex=e.lastIndex,t}var tt=I?I.prototype:void 0,rt=tt?tt.valueOf:void 0;function wn(e){return rt?Object(rt.call(e)):{}}var yn="[object Boolean]",_n="[object Date]",jn="[object Map]",En="[object Number]",xn="[object RegExp]",kn="[object Set]",Nn="[object String]",Cn="[object Symbol]",In="[object ArrayBuffer]",Ln="[object DataView]",On="[object Float32Array]",Mn="[object Float64Array]",Rn="[object Int8Array]",Sn="[object Int16Array]",An="[object Int32Array]",Pn="[object Uint8Array]",$n="[object Uint8ClampedArray]",Dn="[object Uint16Array]",Tn="[object Uint32Array]";function Fn(e,t,r){var n=e.constructor;switch(t){case In:return Ct(e);case yn:case _n:return new n(+e);case Ln:return pn(e,r);case On:case Mn:case Rn:case Sn:case An:case Pn:case $n:case Dn:case Tn:return jr(e,r);case jn:return new n;case En:case Nn:return new n(e);case xn:return mn(e);case kn:return new n;case Cn:return wn(e)}}var Gn="[object Map]";function Bn(e){return Y(e)&&U(e)==Gn}var nt=oe&&oe.isMap,Vn=nt?Le(nt):Bn;const Un=Vn;var Yn="[object Set]";function qn(e){return Y(e)&&U(e)==Yn}var ot=oe&&oe.isSet,zn=ot?Le(ot):qn;const Jn=zn;var Zn=1,Hn=2,Qn=4,$t="[object Arguments]",Wn="[object Array]",Kn="[object Boolean]",Xn="[object Date]",eo="[object Error]",Dt="[object Function]",to="[object GeneratorFunction]",ro="[object Map]",no="[object Number]",Tt="[object Object]",oo="[object RegExp]",io="[object Set]",uo="[object String]",ao="[object Symbol]",so="[object WeakMap]",co="[object ArrayBuffer]",fo="[object DataView]",ho="[object Float32Array]",vo="[object Float64Array]",lo="[object Int8Array]",go="[object Int16Array]",po="[object Int32Array]",bo="[object Uint8Array]",mo="[object Uint8ClampedArray]",wo="[object Uint16Array]",yo="[object Uint32Array]",m={};m[$t]=m[Wn]=m[co]=m[fo]=m[Kn]=m[Xn]=m[ho]=m[vo]=m[lo]=m[go]=m[po]=m[ro]=m[no]=m[Tt]=m[oo]=m[io]=m[uo]=m[ao]=m[bo]=m[mo]=m[wo]=m[yo]=!0;m[eo]=m[Dt]=m[so]=!1;function ne(e,t,r,n,o,i){var u,a=t&Zn,s=t&Hn,c=t&Qn;if(r&&(u=o?r(e,n,o,i):r(e)),u!==void 0)return u;if(!$(e))return e;var f=E(e);if(f){if(u=gn(e),!a)return pr(e,u)}else{var h=U(e),v=h==Dt||h==to;if(ke(e))return br(e,a);if(h==Tt||h==$t||v&&!o){if(u=s||v?{}:mr(e),!a)return s?dn(e,nn(u,e)):sn(e,rn(u,e))}else{if(!m[h])return o?e:{};u=Fn(e,h,a)}}i||(i=new V);var g=i.get(e);if(g)return g;i.set(e,u),Jn(e)?e.forEach(function(w){u.add(ne(w,t,r,w,e,i))}):Un(e)&&e.forEach(function(w,y){u.set(y,ne(w,t,r,y,e,i))});var l=c?s?hn:Ne:s?Z:x,p=f?void 0:l(e);return Lt(p||e,function(w,y){p&&(y=w,w=e[y]),Oe(u,y,ne(w,t,r,y,e,i))}),u}var _o=1,jo=4;function Eo(e){return ne(e,_o|jo)}var xo="__lodash_hash_undefined__";function ko(e){return this.__data__.set(e,xo),this}function No(e){return this.__data__.has(e)}function q(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new lr;++t<r;)this.add(e[t])}q.prototype.add=q.prototype.push=ko;q.prototype.has=No;function Co(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Ft(e,t){return e.has(t)}var Io=1,Lo=2;function Gt(e,t,r,n,o,i){var u=r&Io,a=e.length,s=t.length;if(a!=s&&!(u&&s>a))return!1;var c=i.get(e),f=i.get(t);if(c&&f)return c==t&&f==e;var h=-1,v=!0,g=r&Lo?new q:void 0;for(i.set(e,t),i.set(t,e);++h<a;){var l=e[h],p=t[h];if(n)var w=u?n(p,l,h,t,e,i):n(l,p,h,e,t,i);if(w!==void 0){if(w)continue;v=!1;break}if(g){if(!Co(t,function(y,O){if(!Ft(g,O)&&(l===y||o(l,y,r,n,i)))return g.push(O)})){v=!1;break}}else if(!(l===p||o(l,p,r,n,i))){v=!1;break}}return i.delete(e),i.delete(t),v}function Oo(e){var t=-1,r=Array(e.size);return e.forEach(function(n,o){r[++t]=[o,n]}),r}function Ae(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Mo=1,Ro=2,So="[object Boolean]",Ao="[object Date]",Po="[object Error]",$o="[object Map]",Do="[object Number]",To="[object RegExp]",Fo="[object Set]",Go="[object String]",Bo="[object Symbol]",Vo="[object ArrayBuffer]",Uo="[object DataView]",it=I?I.prototype:void 0,be=it?it.valueOf:void 0;function Yo(e,t,r,n,o,i,u){switch(r){case Uo:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Vo:return!(e.byteLength!=t.byteLength||!i(new Ze(e),new Ze(t)));case So:case Ao:case Do:return Et(+e,+t);case Po:return e.name==t.name&&e.message==t.message;case To:case Go:return e==t+"";case $o:var a=Oo;case Fo:var s=n&Mo;if(a||(a=Ae),e.size!=t.size&&!s)return!1;var c=u.get(e);if(c)return c==t;n|=Ro,u.set(e,t);var f=Gt(a(e),a(t),n,o,i,u);return u.delete(e),f;case Bo:if(be)return be.call(e)==be.call(t)}return!1}var qo=1,zo=Object.prototype,Jo=zo.hasOwnProperty;function Zo(e,t,r,n,o,i){var u=r&qo,a=Ne(e),s=a.length,c=Ne(t),f=c.length;if(s!=f&&!u)return!1;for(var h=s;h--;){var v=a[h];if(!(u?v in t:Jo.call(t,v)))return!1}var g=i.get(e),l=i.get(t);if(g&&l)return g==t&&l==e;var p=!0;i.set(e,t),i.set(t,e);for(var w=u;++h<s;){v=a[h];var y=e[v],O=t[v];if(n)var qe=u?n(O,y,v,t,e,i):n(y,O,v,e,t,i);if(!(qe===void 0?y===O||o(y,O,r,n,i):qe)){p=!1;break}w||(w=v=="constructor")}if(p&&!w){var X=e.constructor,ee=t.constructor;X!=ee&&"constructor"in e&&"constructor"in t&&!(typeof X=="function"&&X instanceof X&&typeof ee=="function"&&ee instanceof ee)&&(p=!1)}return i.delete(e),i.delete(t),p}var Ho=1,ut="[object Arguments]",at="[object Array]",te="[object Object]",Qo=Object.prototype,st=Qo.hasOwnProperty;function Wo(e,t,r,n,o,i){var u=E(e),a=E(t),s=u?at:U(e),c=a?at:U(t);s=s==ut?te:s,c=c==ut?te:c;var f=s==te,h=c==te,v=s==c;if(v&&ke(e)){if(!ke(t))return!1;u=!0,f=!1}if(v&&!f)return i||(i=new V),u||Er(e)?Gt(e,t,r,n,o,i):Yo(e,t,s,r,n,o,i);if(!(r&Ho)){var g=f&&st.call(e,"__wrapped__"),l=h&&st.call(t,"__wrapped__");if(g||l){var p=g?e.value():e,w=l?t.value():t;return i||(i=new V),o(p,w,r,n,i)}}return v?(i||(i=new V),Zo(e,t,r,n,o,i)):!1}function Pe(e,t,r,n,o){return e===t?!0:e==null||t==null||!Y(e)&&!Y(t)?e!==e&&t!==t:Wo(e,t,r,n,Pe,o)}var Ko=1,Xo=2;function ei(e,t,r,n){var o=r.length,i=o,u=!n;if(e==null)return!i;for(e=Object(e);o--;){var a=r[o];if(u&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<i;){a=r[o];var s=a[0],c=e[s],f=a[1];if(u&&a[2]){if(c===void 0&&!(s in e))return!1}else{var h=new V;if(n)var v=n(c,f,s,e,t,h);if(!(v===void 0?Pe(f,c,Ko|Xo,n,h):v))return!1}}return!0}function Bt(e){return e===e&&!$(e)}function ti(e){for(var t=x(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,Bt(o)]}return t}function Vt(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function ri(e){var t=ti(e);return t.length==1&&t[0][2]?Vt(t[0][0],t[0][1]):function(r){return r===e||ei(r,e,t)}}function ni(e,t){return e!=null&&t in Object(e)}function Ut(e,t,r){t=fe(t,e);for(var n=-1,o=t.length,i=!1;++n<o;){var u=Q(t[n]);if(!(i=e!=null&&r(e,u)))break;e=e[u]}return i||++n!=o?i:(o=e==null?0:e.length,!!o&&gr(o)&&xt(u,o)&&(E(e)||kt(e)))}function Yt(e,t){return e!=null&&Ut(e,t,ni)}var oi=1,ii=2;function ui(e,t){return Me(e)&&Bt(t)?Vt(Q(e),t):function(r){var n=Kr(r,e);return n===void 0&&n===t?Yt(r,e):Pe(t,n,oi|ii)}}function ai(e){return function(t){return t==null?void 0:t[e]}}function si(e){return function(t){return de(t,e)}}function ci(e){return Me(e)?ai(Q(e)):si(e)}function L(e){return typeof e=="function"?e:e==null?H:typeof e=="object"?E(e)?ui(e[0],e[1]):ri(e):ci(e)}function $e(e,t){return e&&Nt(e,t,x)}function fi(e,t){return function(r,n){if(r==null)return r;if(!se(r))return e(r,n);for(var o=r.length,i=t?o:-1,u=Object(r);(t?i--:++i<o)&&n(u[i],i,u)!==!1;);return r}}var di=fi($e);const ve=di;var hi=function(){return wr.Date.now()};const ct=hi;var qt=Object.prototype,vi=qt.hasOwnProperty,li=Ie(function(e,t){e=Object(e);var r=-1,n=t.length,o=n>2?t[2]:void 0;for(o&&ie(t[0],t[1],o)&&(n=1);++r<n;)for(var i=t[r],u=Z(i),a=-1,s=u.length;++a<s;){var c=u[a],f=e[c];(f===void 0||Et(f,qt[c])&&!vi.call(e,c))&&(e[c]=i[c])}return e});const gi=li;function pi(e,t,r){for(var n=-1,o=e==null?0:e.length;++n<o;)if(r(t,e[n]))return!0;return!1}function ue(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function De(e){return typeof e=="function"?e:H}function d(e,t){var r=E(e)?Lt:ve;return r(e,De(t))}function bi(e,t){var r=[];return ve(e,function(n,o,i){t(n,o,i)&&r.push(n)}),r}function N(e,t){var r=E(e)?Rt:bi;return r(e,L(t))}function mi(e){return function(t,r,n){var o=Object(t);if(!se(t)){var i=L(r);t=x(t),r=function(a){return i(o[a],a,o)}}var u=e(t,r,n);return u>-1?o[i?t[u]:u]:void 0}}var wi=Math.max;function yi(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var o=r==null?0:Dr(r);return o<0&&(o=wi(n+o,0)),Ot(e,L(t),o)}var _i=mi(yi);const Te=_i;function zt(e,t){var r=-1,n=se(e)?Array(e.length):[];return ve(e,function(o,i,u){n[++r]=t(o,i,u)}),n}function _(e,t){var r=E(e)?P:zt;return r(e,L(t))}function ji(e,t){return e==null?e:Nt(e,De(t),Z)}function Ei(e,t){return e&&$e(e,De(t))}function xi(e,t){return e>t}var ki=Object.prototype,Ni=ki.hasOwnProperty;function Ci(e,t){return e!=null&&Ni.call(e,t)}function b(e,t){return e!=null&&Ut(e,t,Ci)}function Ii(e,t){return P(t,function(r){return e[r]})}function C(e){return e==null?[]:Ii(e,x(e))}function j(e){return e===void 0}function Jt(e,t){return e<t}function le(e,t){var r={};return t=L(t),$e(e,function(n,o,i){yr(r,o,t(n,o,i))}),r}function Fe(e,t,r){for(var n=-1,o=e.length;++n<o;){var i=e[n],u=t(i);if(u!=null&&(a===void 0?u===u&&!R(u):r(u,a)))var a=u,s=i}return s}function S(e){return e&&e.length?Fe(e,H,xi):void 0}function z(e){return e&&e.length?Fe(e,H,Jt):void 0}function Ge(e,t){return e&&e.length?Fe(e,L(t),Jt):void 0}function Li(e,t,r,n){if(!$(e))return e;t=fe(t,e);for(var o=-1,i=t.length,u=i-1,a=e;a!=null&&++o<i;){var s=Q(t[o]),c=r;if(s==="__proto__"||s==="constructor"||s==="prototype")return e;if(o!=u){var f=a[s];c=n?n(f,s,a):void 0,c===void 0&&(c=$(f)?f:xt(t[o+1])?[]:{})}Oe(a,s,c),a=a[s]}return e}function Oi(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var u=t[n],a=de(e,u);r(a,u)&&Li(i,fe(u,e),a)}return i}function Mi(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}function Ri(e,t){if(e!==t){var r=e!==void 0,n=e===null,o=e===e,i=R(e),u=t!==void 0,a=t===null,s=t===t,c=R(t);if(!a&&!c&&!i&&e>t||i&&u&&s&&!a&&!c||n&&u&&s||!r&&s||!o)return 1;if(!n&&!i&&!c&&e<t||c&&r&&o&&!n&&!i||a&&r&&o||!u&&o||!s)return-1}return 0}function Si(e,t,r){for(var n=-1,o=e.criteria,i=t.criteria,u=o.length,a=r.length;++n<u;){var s=Ri(o[n],i[n]);if(s){if(n>=a)return s;var c=r[n];return s*(c=="desc"?-1:1)}}return e.index-t.index}function Ai(e,t,r){t.length?t=P(t,function(i){return E(i)?function(u){return de(u,i.length===1?i[0]:i)}:i}):t=[H];var n=-1;t=P(t,Le(L));var o=zt(e,function(i,u,a){var s=P(t,function(c){return c(i)});return{criteria:s,index:++n,value:i}});return Mi(o,function(i,u){return Si(i,u,r)})}function Pi(e,t){return Oi(e,t,function(r,n){return Yt(e,n)})}var $i=en(function(e,t){return e==null?{}:Pi(e,t)});const ae=$i;var Di=Math.ceil,Ti=Math.max;function Fi(e,t,r,n){for(var o=-1,i=Ti(Di((t-e)/(r||1)),0),u=Array(i);i--;)u[n?i:++o]=e,e+=r;return u}function Gi(e){return function(t,r,n){return n&&typeof n!="number"&&ie(t,r,n)&&(r=n=void 0),t=re(t),r===void 0?(r=t,t=0):r=re(r),n=n===void 0?t<r?1:-1:re(n),Fi(t,r,n,e)}}var Bi=Gi();const D=Bi;function Vi(e,t,r,n,o){return o(e,function(i,u,a){r=n?(n=!1,i):t(r,i,u,a)}),r}function W(e,t,r){var n=E(e)?tn:Vi,o=arguments.length<3;return n(e,L(t),r,o,ve)}var Ui=Ie(function(e,t){if(e==null)return[];var r=t.length;return r>1&&ie(e,t[0],t[1])?t=[]:r>2&&ie(t[0],t[1],t[2])&&(t=[t[0]]),Ai(e,he(t,1),[])});const K=Ui;var Yi=1/0,qi=pe&&1/Ae(new pe([,-0]))[1]==Yi?function(e){return new pe(e)}:Tr;const zi=qi;var Ji=200;function Zi(e,t,r){var n=-1,o=Vr,i=e.length,u=!0,a=[],s=a;if(r)u=!1,o=pi;else if(i>=Ji){var c=t?null:zi(e);if(c)return Ae(c);u=!1,o=Ft,s=new q}else s=t?[]:a;e:for(;++n<i;){var f=e[n],h=t?t(f):f;if(f=r||f!==0?f:0,u&&h===h){for(var v=s.length;v--;)if(s[v]===h)continue e;t&&s.push(h),a.push(f)}else o(s,h,r)||(s!==a&&s.push(h),a.push(f))}return a}var Hi=Ie(function(e){return Zi(he(e,1,vr,!0))});const Qi=Hi;var Wi=0;function Be(e){var t=++Wi;return Mt(e)+t}function Ki(e,t,r){for(var n=-1,o=e.length,i=t.length,u={};++n<o;){var a=n<i?t[n]:void 0;r(u,e[n],a)}return u}function Xi(e,t){return Ki(e||[],t||[],Oe)}var eu="\0",M="\0",ft="";class k{constructor(t={}){this._isDirected=b(t,"directed")?t.directed:!0,this._isMultigraph=b(t,"multigraph")?t.multigraph:!1,this._isCompound=b(t,"compound")?t.compound:!1,this._label=void 0,this._defaultNodeLabelFn=G(void 0),this._defaultEdgeLabelFn=G(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[M]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(t){return this._label=t,this}graph(){return this._label}setDefaultNodeLabel(t){return ze(t)||(t=G(t)),this._defaultNodeLabelFn=t,this}nodeCount(){return this._nodeCount}nodes(){return x(this._nodes)}sources(){var t=this;return N(this.nodes(),function(r){return Je(t._in[r])})}sinks(){var t=this;return N(this.nodes(),function(r){return Je(t._out[r])})}setNodes(t,r){var n=arguments,o=this;return d(t,function(i){n.length>1?o.setNode(i,r):o.setNode(i)}),this}setNode(t,r){return b(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=r),this):(this._nodes[t]=arguments.length>1?r:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=M,this._children[t]={},this._children[M][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)}node(t){return this._nodes[t]}hasNode(t){return b(this._nodes,t)}removeNode(t){var r=this;if(b(this._nodes,t)){var n=function(o){r.removeEdge(r._edgeObjs[o])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],d(this.children(t),function(o){r.setParent(o)}),delete this._children[t]),d(x(this._in[t]),n),delete this._in[t],delete this._preds[t],d(x(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this}setParent(t,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(j(r))r=M;else{r+="";for(var n=r;!j(n);n=this.parent(n))if(n===t)throw new Error("Setting "+r+" as parent of "+t+" would create a cycle");this.setNode(r)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=r,this._children[r][t]=!0,this}_removeFromParentsChildList(t){delete this._children[this._parent[t]][t]}parent(t){if(this._isCompound){var r=this._parent[t];if(r!==M)return r}}children(t){if(j(t)&&(t=M),this._isCompound){var r=this._children[t];if(r)return x(r)}else{if(t===M)return this.nodes();if(this.hasNode(t))return[]}}predecessors(t){var r=this._preds[t];if(r)return x(r)}successors(t){var r=this._sucs[t];if(r)return x(r)}neighbors(t){var r=this.predecessors(t);if(r)return Qi(r,this.successors(t))}isLeaf(t){var r;return this.isDirected()?r=this.successors(t):r=this.neighbors(t),r.length===0}filterNodes(t){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var n=this;d(this._nodes,function(u,a){t(a)&&r.setNode(a,u)}),d(this._edgeObjs,function(u){r.hasNode(u.v)&&r.hasNode(u.w)&&r.setEdge(u,n.edge(u))});var o={};function i(u){var a=n.parent(u);return a===void 0||r.hasNode(a)?(o[u]=a,a):a in o?o[a]:i(a)}return this._isCompound&&d(r.nodes(),function(u){r.setParent(u,i(u))}),r}setDefaultEdgeLabel(t){return ze(t)||(t=G(t)),this._defaultEdgeLabelFn=t,this}edgeCount(){return this._edgeCount}edges(){return C(this._edgeObjs)}setPath(t,r){var n=this,o=arguments;return W(t,function(i,u){return o.length>1?n.setEdge(i,u,r):n.setEdge(i,u),u}),this}setEdge(){var t,r,n,o,i=!1,u=arguments[0];typeof u=="object"&&u!==null&&"v"in u?(t=u.v,r=u.w,n=u.name,arguments.length===2&&(o=arguments[1],i=!0)):(t=u,r=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],i=!0)),t=""+t,r=""+r,j(n)||(n=""+n);var a=B(this._isDirected,t,r,n);if(b(this._edgeLabels,a))return i&&(this._edgeLabels[a]=o),this;if(!j(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(r),this._edgeLabels[a]=i?o:this._defaultEdgeLabelFn(t,r,n);var s=tu(this._isDirected,t,r,n);return t=s.v,r=s.w,Object.freeze(s),this._edgeObjs[a]=s,dt(this._preds[r],t),dt(this._sucs[t],r),this._in[r][a]=s,this._out[t][a]=s,this._edgeCount++,this}edge(t,r,n){var o=arguments.length===1?me(this._isDirected,arguments[0]):B(this._isDirected,t,r,n);return this._edgeLabels[o]}hasEdge(t,r,n){var o=arguments.length===1?me(this._isDirected,arguments[0]):B(this._isDirected,t,r,n);return b(this._edgeLabels,o)}removeEdge(t,r,n){var o=arguments.length===1?me(this._isDirected,arguments[0]):B(this._isDirected,t,r,n),i=this._edgeObjs[o];return i&&(t=i.v,r=i.w,delete this._edgeLabels[o],delete this._edgeObjs[o],ht(this._preds[r],t),ht(this._sucs[t],r),delete this._in[r][o],delete this._out[t][o],this._edgeCount--),this}inEdges(t,r){var n=this._in[t];if(n){var o=C(n);return r?N(o,function(i){return i.v===r}):o}}outEdges(t,r){var n=this._out[t];if(n){var o=C(n);return r?N(o,function(i){return i.w===r}):o}}nodeEdges(t,r){var n=this.inEdges(t,r);if(n)return n.concat(this.outEdges(t,r))}}k.prototype._nodeCount=0;k.prototype._edgeCount=0;function dt(e,t){e[t]?e[t]++:e[t]=1}function ht(e,t){--e[t]||delete e[t]}function B(e,t,r,n){var o=""+t,i=""+r;if(!e&&o>i){var u=o;o=i,i=u}return o+ft+i+ft+(j(n)?eu:n)}function tu(e,t,r,n){var o=""+t,i=""+r;if(!e&&o>i){var u=o;o=i,i=u}var a={v:o,w:i};return n&&(a.name=n),a}function me(e,t){return B(e,t.v,t.w,t.name)}class ru{constructor(){var t={};t._next=t._prev=t,this._sentinel=t}dequeue(){var t=this._sentinel,r=t._prev;if(r!==t)return vt(r),r}enqueue(t){var r=this._sentinel;t._prev&&t._next&&vt(t),t._next=r._next,r._next._prev=t,r._next=t,t._prev=r}toString(){for(var t=[],r=this._sentinel,n=r._prev;n!==r;)t.push(JSON.stringify(n,nu)),n=n._prev;return"["+t.join(", ")+"]"}}function vt(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function nu(e,t){if(e!=="_next"&&e!=="_prev")return t}var ou=G(1);function iu(e,t){if(e.nodeCount()<=1)return[];var r=au(e,t||ou),n=uu(r.graph,r.buckets,r.zeroIdx);return T(_(n,function(o){return e.outEdges(o.v,o.w)}))}function uu(e,t,r){for(var n=[],o=t[t.length-1],i=t[0],u;e.nodeCount();){for(;u=i.dequeue();)we(e,t,r,u);for(;u=o.dequeue();)we(e,t,r,u);if(e.nodeCount()){for(var a=t.length-2;a>0;--a)if(u=t[a].dequeue(),u){n=n.concat(we(e,t,r,u,!0));break}}}return n}function we(e,t,r,n,o){var i=o?[]:void 0;return d(e.inEdges(n.v),function(u){var a=e.edge(u),s=e.node(u.v);o&&i.push({v:u.v,w:u.w}),s.out-=a,Ce(t,r,s)}),d(e.outEdges(n.v),function(u){var a=e.edge(u),s=u.w,c=e.node(s);c.in-=a,Ce(t,r,c)}),e.removeNode(n.v),i}function au(e,t){var r=new k,n=0,o=0;d(e.nodes(),function(a){r.setNode(a,{v:a,in:0,out:0})}),d(e.edges(),function(a){var s=r.edge(a.v,a.w)||0,c=t(a),f=s+c;r.setEdge(a.v,a.w,f),o=Math.max(o,r.node(a.v).out+=c),n=Math.max(n,r.node(a.w).in+=c)});var i=D(o+n+3).map(function(){return new ru}),u=n+1;return d(r.nodes(),function(a){Ce(i,u,r.node(a))}),{graph:r,buckets:i,zeroIdx:u}}function Ce(e,t,r){r.out?r.in?e[r.out-r.in+t].enqueue(r):e[e.length-1].enqueue(r):e[0].enqueue(r)}function su(e){var t=e.graph().acyclicer==="greedy"?iu(e,r(e)):cu(e);d(t,function(n){var o=e.edge(n);e.removeEdge(n),o.forwardName=n.name,o.reversed=!0,e.setEdge(n.w,n.v,o,Be("rev"))});function r(n){return function(o){return n.edge(o).weight}}}function cu(e){var t=[],r={},n={};function o(i){b(n,i)||(n[i]=!0,r[i]=!0,d(e.outEdges(i),function(u){b(r,u.w)?t.push(u):o(u.w)}),delete r[i])}return d(e.nodes(),o),t}function fu(e){d(e.edges(),function(t){var r=e.edge(t);if(r.reversed){e.removeEdge(t);var n=r.forwardName;delete r.reversed,delete r.forwardName,e.setEdge(t.w,t.v,r,n)}})}function F(e,t,r,n){var o;do o=Be(n);while(e.hasNode(o));return r.dummy=t,e.setNode(o,r),o}function du(e){var t=new k().setGraph(e.graph());return d(e.nodes(),function(r){t.setNode(r,e.node(r))}),d(e.edges(),function(r){var n=t.edge(r.v,r.w)||{weight:0,minlen:1},o=e.edge(r);t.setEdge(r.v,r.w,{weight:n.weight+o.weight,minlen:Math.max(n.minlen,o.minlen)})}),t}function Zt(e){var t=new k({multigraph:e.isMultigraph()}).setGraph(e.graph());return d(e.nodes(),function(r){e.children(r).length||t.setNode(r,e.node(r))}),d(e.edges(),function(r){t.setEdge(r,e.edge(r))}),t}function lt(e,t){var r=e.x,n=e.y,o=t.x-r,i=t.y-n,u=e.width/2,a=e.height/2;if(!o&&!i)throw new Error("Not possible to find intersection inside of the rectangle");var s,c;return Math.abs(i)*u>Math.abs(o)*a?(i<0&&(a=-a),s=a*o/i,c=a):(o<0&&(u=-u),s=u,c=u*i/o),{x:r+s,y:n+c}}function ge(e){var t=_(D(Ht(e)+1),function(){return[]});return d(e.nodes(),function(r){var n=e.node(r),o=n.rank;j(o)||(t[o][n.order]=r)}),t}function hu(e){var t=z(_(e.nodes(),function(r){return e.node(r).rank}));d(e.nodes(),function(r){var n=e.node(r);b(n,"rank")&&(n.rank-=t)})}function vu(e){var t=z(_(e.nodes(),function(i){return e.node(i).rank})),r=[];d(e.nodes(),function(i){var u=e.node(i).rank-t;r[u]||(r[u]=[]),r[u].push(i)});var n=0,o=e.graph().nodeRankFactor;d(r,function(i,u){j(i)&&u%o!==0?--n:n&&d(i,function(a){e.node(a).rank+=n})})}function gt(e,t,r,n){var o={width:0,height:0};return arguments.length>=4&&(o.rank=r,o.order=n),F(e,"border",o,t)}function Ht(e){return S(_(e.nodes(),function(t){var r=e.node(t).rank;if(!j(r))return r}))}function lu(e,t){var r={lhs:[],rhs:[]};return d(e,function(n){t(n)?r.lhs.push(n):r.rhs.push(n)}),r}function gu(e,t){var r=ct();try{return t()}finally{console.log(e+" time: "+(ct()-r)+"ms")}}function pu(e,t){return t()}function bu(e){function t(r){var n=e.children(r),o=e.node(r);if(n.length&&d(n,t),b(o,"minRank")){o.borderLeft=[],o.borderRight=[];for(var i=o.minRank,u=o.maxRank+1;i<u;++i)pt(e,"borderLeft","_bl",r,o,i),pt(e,"borderRight","_br",r,o,i)}}d(e.children(),t)}function pt(e,t,r,n,o,i){var u={width:0,height:0,rank:i,borderType:t},a=o[t][i-1],s=F(e,"border",u,r);o[t][i]=s,e.setParent(s,n),a&&e.setEdge(a,s,{weight:1})}function mu(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Qt(e)}function wu(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&yu(e),(t==="lr"||t==="rl")&&(_u(e),Qt(e))}function Qt(e){d(e.nodes(),function(t){bt(e.node(t))}),d(e.edges(),function(t){bt(e.edge(t))})}function bt(e){var t=e.width;e.width=e.height,e.height=t}function yu(e){d(e.nodes(),function(t){ye(e.node(t))}),d(e.edges(),function(t){var r=e.edge(t);d(r.points,ye),b(r,"y")&&ye(r)})}function ye(e){e.y=-e.y}function _u(e){d(e.nodes(),function(t){_e(e.node(t))}),d(e.edges(),function(t){var r=e.edge(t);d(r.points,_e),b(r,"x")&&_e(r)})}function _e(e){var t=e.x;e.x=e.y,e.y=t}function ju(e){e.graph().dummyChains=[],d(e.edges(),function(t){Eu(e,t)})}function Eu(e,t){var r=t.v,n=e.node(r).rank,o=t.w,i=e.node(o).rank,u=t.name,a=e.edge(t),s=a.labelRank;if(i!==n+1){e.removeEdge(t);var c,f,h;for(h=0,++n;n<i;++h,++n)a.points=[],f={width:0,height:0,edgeLabel:a,edgeObj:t,rank:n},c=F(e,"edge",f,"_d"),n===s&&(f.width=a.width,f.height=a.height,f.dummy="edge-label",f.labelpos=a.labelpos),e.setEdge(r,c,{weight:a.weight},u),h===0&&e.graph().dummyChains.push(c),r=c;e.setEdge(r,o,{weight:a.weight},u)}}function xu(e){d(e.graph().dummyChains,function(t){var r=e.node(t),n=r.edgeLabel,o;for(e.setEdge(r.edgeObj,n);r.dummy;)o=e.successors(t)[0],e.removeNode(t),n.points.push({x:r.x,y:r.y}),r.dummy==="edge-label"&&(n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height),t=o,r=e.node(t)})}function Ve(e){var t={};function r(n){var o=e.node(n);if(b(t,n))return o.rank;t[n]=!0;var i=z(_(e.outEdges(n),function(u){return r(u.w)-e.edge(u).minlen}));return(i===Number.POSITIVE_INFINITY||i===void 0||i===null)&&(i=0),o.rank=i}d(e.sources(),r)}function J(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}function Wt(e){var t=new k({directed:!1}),r=e.nodes()[0],n=e.nodeCount();t.setNode(r,{});for(var o,i;ku(t,e)<n;)o=Nu(t,e),i=t.hasNode(o.v)?J(e,o):-J(e,o),Cu(t,e,i);return t}function ku(e,t){function r(n){d(t.nodeEdges(n),function(o){var i=o.v,u=n===i?o.w:i;!e.hasNode(u)&&!J(t,o)&&(e.setNode(u,{}),e.setEdge(n,u,{}),r(u))})}return d(e.nodes(),r),e.nodeCount()}function Nu(e,t){return Ge(t.edges(),function(r){if(e.hasNode(r.v)!==e.hasNode(r.w))return J(t,r)})}function Cu(e,t,r){d(e.nodes(),function(n){t.node(n).rank+=r})}function Kt(e,t,r){E(t)||(t=[t]);var n=(e.isDirected()?e.successors:e.neighbors).bind(e),o=[],i={};return d(t,function(u){if(!e.hasNode(u))throw new Error("Graph does not have node: "+u);Xt(e,u,r==="post",i,n,o)}),o}function Xt(e,t,r,n,o,i){b(n,t)||(n[t]=!0,r||i.push(t),d(o(t),function(u){Xt(e,u,r,n,o,i)}),r&&i.push(t))}function Iu(e,t){return Kt(e,t,"post")}function Lu(e,t){return Kt(e,t,"pre")}A.initLowLimValues=Ye;A.initCutValues=Ue;A.calcCutValue=er;A.leaveEdge=rr;A.enterEdge=nr;A.exchangeEdges=or;function A(e){e=du(e),Ve(e);var t=Wt(e);Ye(t),Ue(t,e);for(var r,n;r=rr(t);)n=nr(t,e,r),or(t,e,r,n)}function Ue(e,t){var r=Iu(e,e.nodes());r=r.slice(0,r.length-1),d(r,function(n){Ou(e,t,n)})}function Ou(e,t,r){var n=e.node(r),o=n.parent;e.edge(r,o).cutvalue=er(e,t,r)}function er(e,t,r){var n=e.node(r),o=n.parent,i=!0,u=t.edge(r,o),a=0;return u||(i=!1,u=t.edge(o,r)),a=u.weight,d(t.nodeEdges(r),function(s){var c=s.v===r,f=c?s.w:s.v;if(f!==o){var h=c===i,v=t.edge(s).weight;if(a+=h?v:-v,Ru(e,r,f)){var g=e.edge(r,f).cutvalue;a+=h?-g:g}}}),a}function Ye(e,t){arguments.length<2&&(t=e.nodes()[0]),tr(e,{},1,t)}function tr(e,t,r,n,o){var i=r,u=e.node(n);return t[n]=!0,d(e.neighbors(n),function(a){b(t,a)||(r=tr(e,t,r,a,n))}),u.low=i,u.lim=r++,o?u.parent=o:delete u.parent,r}function rr(e){return Te(e.edges(),function(t){return e.edge(t).cutvalue<0})}function nr(e,t,r){var n=r.v,o=r.w;t.hasEdge(n,o)||(n=r.w,o=r.v);var i=e.node(n),u=e.node(o),a=i,s=!1;i.lim>u.lim&&(a=u,s=!0);var c=N(t.edges(),function(f){return s===mt(e,e.node(f.v),a)&&s!==mt(e,e.node(f.w),a)});return Ge(c,function(f){return J(t,f)})}function or(e,t,r,n){var o=r.v,i=r.w;e.removeEdge(o,i),e.setEdge(n.v,n.w,{}),Ye(e),Ue(e,t),Mu(e,t)}function Mu(e,t){var r=Te(e.nodes(),function(o){return!t.node(o).parent}),n=Lu(e,r);n=n.slice(1),d(n,function(o){var i=e.node(o).parent,u=t.edge(o,i),a=!1;u||(u=t.edge(i,o),a=!0),t.node(o).rank=t.node(i).rank+(a?u.minlen:-u.minlen)})}function Ru(e,t,r){return e.hasEdge(t,r)}function mt(e,t,r){return r.low<=t.lim&&t.lim<=r.lim}function Su(e){switch(e.graph().ranker){case"network-simplex":wt(e);break;case"tight-tree":Pu(e);break;case"longest-path":Au(e);break;default:wt(e)}}var Au=Ve;function Pu(e){Ve(e),Wt(e)}function wt(e){A(e)}function $u(e){var t=F(e,"root",{},"_root"),r=Du(e),n=S(C(r))-1,o=2*n+1;e.graph().nestingRoot=t,d(e.edges(),function(u){e.edge(u).minlen*=o});var i=Tu(e)+1;d(e.children(),function(u){ir(e,t,o,i,n,r,u)}),e.graph().nodeRankFactor=o}function ir(e,t,r,n,o,i,u){var a=e.children(u);if(!a.length){u!==t&&e.setEdge(t,u,{weight:0,minlen:r});return}var s=gt(e,"_bt"),c=gt(e,"_bb"),f=e.node(u);e.setParent(s,u),f.borderTop=s,e.setParent(c,u),f.borderBottom=c,d(a,function(h){ir(e,t,r,n,o,i,h);var v=e.node(h),g=v.borderTop?v.borderTop:h,l=v.borderBottom?v.borderBottom:h,p=v.borderTop?n:2*n,w=g!==l?1:o-i[u]+1;e.setEdge(s,g,{weight:p,minlen:w,nestingEdge:!0}),e.setEdge(l,c,{weight:p,minlen:w,nestingEdge:!0})}),e.parent(u)||e.setEdge(t,s,{weight:0,minlen:o+i[u]})}function Du(e){var t={};function r(n,o){var i=e.children(n);i&&i.length&&d(i,function(u){r(u,o+1)}),t[n]=o}return d(e.children(),function(n){r(n,1)}),t}function Tu(e){return W(e.edges(),function(t,r){return t+e.edge(r).weight},0)}function Fu(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,d(e.edges(),function(r){var n=e.edge(r);n.nestingEdge&&e.removeEdge(r)})}function Gu(e,t,r){var n={},o;d(r,function(i){for(var u=e.parent(i),a,s;u;){if(a=e.parent(u),a?(s=n[a],n[a]=u):(s=o,o=u),s&&s!==u){t.setEdge(s,u);return}u=a}})}function Bu(e,t,r){var n=Vu(e),o=new k({compound:!0}).setGraph({root:n}).setDefaultNodeLabel(function(i){return e.node(i)});return d(e.nodes(),function(i){var u=e.node(i),a=e.parent(i);(u.rank===t||u.minRank<=t&&t<=u.maxRank)&&(o.setNode(i),o.setParent(i,a||n),d(e[r](i),function(s){var c=s.v===i?s.w:s.v,f=o.edge(c,i),h=j(f)?0:f.weight;o.setEdge(c,i,{weight:e.edge(s).weight+h})}),b(u,"minRank")&&o.setNode(i,{borderLeft:u.borderLeft[t],borderRight:u.borderRight[t]}))}),o}function Vu(e){for(var t;e.hasNode(t=Be("_root")););return t}function Uu(e,t){for(var r=0,n=1;n<t.length;++n)r+=Yu(e,t[n-1],t[n]);return r}function Yu(e,t,r){for(var n=Xi(r,_(r,function(c,f){return f})),o=T(_(t,function(c){return K(_(e.outEdges(c),function(f){return{pos:n[f.w],weight:e.edge(f).weight}}),"pos")})),i=1;i<r.length;)i<<=1;var u=2*i-1;i-=1;var a=_(new Array(u),function(){return 0}),s=0;return d(o.forEach(function(c){var f=c.pos+i;a[f]+=c.weight;for(var h=0;f>0;)f%2&&(h+=a[f+1]),f=f-1>>1,a[f]+=c.weight;s+=c.weight*h})),s}function qu(e){var t={},r=N(e.nodes(),function(a){return!e.children(a).length}),n=S(_(r,function(a){return e.node(a).rank})),o=_(D(n+1),function(){return[]});function i(a){if(!b(t,a)){t[a]=!0;var s=e.node(a);o[s.rank].push(a),d(e.successors(a),i)}}var u=K(r,function(a){return e.node(a).rank});return d(u,i),o}function zu(e,t){return _(t,function(r){var n=e.inEdges(r);if(n.length){var o=W(n,function(i,u){var a=e.edge(u),s=e.node(u.v);return{sum:i.sum+a.weight*s.order,weight:i.weight+a.weight}},{sum:0,weight:0});return{v:r,barycenter:o.sum/o.weight,weight:o.weight}}else return{v:r}})}function Ju(e,t){var r={};d(e,function(o,i){var u=r[o.v]={indegree:0,in:[],out:[],vs:[o.v],i};j(o.barycenter)||(u.barycenter=o.barycenter,u.weight=o.weight)}),d(t.edges(),function(o){var i=r[o.v],u=r[o.w];!j(i)&&!j(u)&&(u.indegree++,i.out.push(r[o.w]))});var n=N(r,function(o){return!o.indegree});return Zu(n)}function Zu(e){var t=[];function r(i){return function(u){u.merged||(j(u.barycenter)||j(i.barycenter)||u.barycenter>=i.barycenter)&&Hu(i,u)}}function n(i){return function(u){u.in.push(i),--u.indegree===0&&e.push(u)}}for(;e.length;){var o=e.pop();t.push(o),d(o.in.reverse(),r(o)),d(o.out,n(o))}return _(N(t,function(i){return!i.merged}),function(i){return ae(i,["vs","i","barycenter","weight"])})}function Hu(e,t){var r=0,n=0;e.weight&&(r+=e.barycenter*e.weight,n+=e.weight),t.weight&&(r+=t.barycenter*t.weight,n+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=r/n,e.weight=n,e.i=Math.min(t.i,e.i),t.merged=!0}function Qu(e,t){var r=lu(e,function(f){return b(f,"barycenter")}),n=r.lhs,o=K(r.rhs,function(f){return-f.i}),i=[],u=0,a=0,s=0;n.sort(Wu(!!t)),s=yt(i,o,s),d(n,function(f){s+=f.vs.length,i.push(f.vs),u+=f.barycenter*f.weight,a+=f.weight,s=yt(i,o,s)});var c={vs:T(i)};return a&&(c.barycenter=u/a,c.weight=a),c}function yt(e,t,r){for(var n;t.length&&(n=ue(t)).i<=r;)t.pop(),e.push(n.vs),r++;return r}function Wu(e){return function(t,r){return t.barycenter<r.barycenter?-1:t.barycenter>r.barycenter?1:e?r.i-t.i:t.i-r.i}}function ur(e,t,r,n){var o=e.children(t),i=e.node(t),u=i?i.borderLeft:void 0,a=i?i.borderRight:void 0,s={};u&&(o=N(o,function(l){return l!==u&&l!==a}));var c=zu(e,o);d(c,function(l){if(e.children(l.v).length){var p=ur(e,l.v,r,n);s[l.v]=p,b(p,"barycenter")&&Xu(l,p)}});var f=Ju(c,r);Ku(f,s);var h=Qu(f,n);if(u&&(h.vs=T([u,h.vs,a]),e.predecessors(u).length)){var v=e.node(e.predecessors(u)[0]),g=e.node(e.predecessors(a)[0]);b(h,"barycenter")||(h.barycenter=0,h.weight=0),h.barycenter=(h.barycenter*h.weight+v.order+g.order)/(h.weight+2),h.weight+=2}return h}function Ku(e,t){d(e,function(r){r.vs=T(r.vs.map(function(n){return t[n]?t[n].vs:n}))})}function Xu(e,t){j(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}function ea(e){var t=Ht(e),r=_t(e,D(1,t+1),"inEdges"),n=_t(e,D(t-1,-1,-1),"outEdges"),o=qu(e);jt(e,o);for(var i=Number.POSITIVE_INFINITY,u,a=0,s=0;s<4;++a,++s){ta(a%2?r:n,a%4>=2),o=ge(e);var c=Uu(e,o);c<i&&(s=0,u=Eo(o),i=c)}jt(e,u)}function _t(e,t,r){return _(t,function(n){return Bu(e,n,r)})}function ta(e,t){var r=new k;d(e,function(n){var o=n.graph().root,i=ur(n,o,r,t);d(i.vs,function(u,a){n.node(u).order=a}),Gu(n,r,i.vs)})}function jt(e,t){d(t,function(r){d(r,function(n,o){e.node(n).order=o})})}function ra(e){var t=oa(e);d(e.graph().dummyChains,function(r){for(var n=e.node(r),o=n.edgeObj,i=na(e,t,o.v,o.w),u=i.path,a=i.lca,s=0,c=u[s],f=!0;r!==o.w;){if(n=e.node(r),f){for(;(c=u[s])!==a&&e.node(c).maxRank<n.rank;)s++;c===a&&(f=!1)}if(!f){for(;s<u.length-1&&e.node(c=u[s+1]).minRank<=n.rank;)s++;c=u[s]}e.setParent(r,c),r=e.successors(r)[0]}})}function na(e,t,r,n){var o=[],i=[],u=Math.min(t[r].low,t[n].low),a=Math.max(t[r].lim,t[n].lim),s,c;s=r;do s=e.parent(s),o.push(s);while(s&&(t[s].low>u||a>t[s].lim));for(c=s,s=n;(s=e.parent(s))!==c;)i.push(s);return{path:o.concat(i.reverse()),lca:c}}function oa(e){var t={},r=0;function n(o){var i=r;d(e.children(o),n),t[o]={low:i,lim:r++}}return d(e.children(),n),t}function ia(e,t){var r={};function n(o,i){var u=0,a=0,s=o.length,c=ue(i);return d(i,function(f,h){var v=aa(e,f),g=v?e.node(v).order:s;(v||f===c)&&(d(i.slice(a,h+1),function(l){d(e.predecessors(l),function(p){var w=e.node(p),y=w.order;(y<u||g<y)&&!(w.dummy&&e.node(l).dummy)&&ar(r,p,l)})}),a=h+1,u=g)}),i}return W(t,n),r}function ua(e,t){var r={};function n(i,u,a,s,c){var f;d(D(u,a),function(h){f=i[h],e.node(f).dummy&&d(e.predecessors(f),function(v){var g=e.node(v);g.dummy&&(g.order<s||g.order>c)&&ar(r,v,f)})})}function o(i,u){var a=-1,s,c=0;return d(u,function(f,h){if(e.node(f).dummy==="border"){var v=e.predecessors(f);v.length&&(s=e.node(v[0]).order,n(u,c,h,a,s),c=h,a=s)}n(u,c,u.length,s,i.length)}),u}return W(t,o),r}function aa(e,t){if(e.node(t).dummy)return Te(e.predecessors(t),function(r){return e.node(r).dummy})}function ar(e,t,r){if(t>r){var n=t;t=r,r=n}var o=e[t];o||(e[t]=o={}),o[r]=!0}function sa(e,t,r){if(t>r){var n=t;t=r,r=n}return b(e[t],r)}function ca(e,t,r,n){var o={},i={},u={};return d(t,function(a){d(a,function(s,c){o[s]=s,i[s]=s,u[s]=c})}),d(t,function(a){var s=-1;d(a,function(c){var f=n(c);if(f.length){f=K(f,function(p){return u[p]});for(var h=(f.length-1)/2,v=Math.floor(h),g=Math.ceil(h);v<=g;++v){var l=f[v];i[c]===c&&s<u[l]&&!sa(r,c,l)&&(i[l]=c,i[c]=o[c]=o[l],s=u[l])}}})}),{root:o,align:i}}function fa(e,t,r,n,o){var i={},u=da(e,t,r,o),a=o?"borderLeft":"borderRight";function s(h,v){for(var g=u.nodes(),l=g.pop(),p={};l;)p[l]?h(l):(p[l]=!0,g.push(l),g=g.concat(v(l))),l=g.pop()}function c(h){i[h]=u.inEdges(h).reduce(function(v,g){return Math.max(v,i[g.v]+u.edge(g))},0)}function f(h){var v=u.outEdges(h).reduce(function(l,p){return Math.min(l,i[p.w]-u.edge(p))},Number.POSITIVE_INFINITY),g=e.node(h);v!==Number.POSITIVE_INFINITY&&g.borderType!==a&&(i[h]=Math.max(i[h],v))}return s(c,u.predecessors.bind(u)),s(f,u.successors.bind(u)),d(n,function(h){i[h]=i[r[h]]}),i}function da(e,t,r,n){var o=new k,i=e.graph(),u=pa(i.nodesep,i.edgesep,n);return d(t,function(a){var s;d(a,function(c){var f=r[c];if(o.setNode(f),s){var h=r[s],v=o.edge(h,f);o.setEdge(h,f,Math.max(u(e,c,s),v||0))}s=c})}),o}function ha(e,t){return Ge(C(t),function(r){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return ji(r,function(i,u){var a=ba(e,u)/2;n=Math.max(i+a,n),o=Math.min(i-a,o)}),n-o})}function va(e,t){var r=C(t),n=z(r),o=S(r);d(["u","d"],function(i){d(["l","r"],function(u){var a=i+u,s=e[a],c;if(s!==t){var f=C(s);c=u==="l"?n-z(f):o-S(f),c&&(e[a]=le(s,function(h){return h+c}))}})})}function la(e,t){return le(e.ul,function(r,n){if(t)return e[t.toLowerCase()][n];var o=K(_(e,n));return(o[1]+o[2])/2})}function ga(e){var t=ge(e),r=xe(ia(e,t),ua(e,t)),n={},o;d(["u","d"],function(u){o=u==="u"?t:C(t).reverse(),d(["l","r"],function(a){a==="r"&&(o=_(o,function(h){return C(h).reverse()}));var s=(u==="u"?e.predecessors:e.successors).bind(e),c=ca(e,o,r,s),f=fa(e,o,c.root,c.align,a==="r");a==="r"&&(f=le(f,function(h){return-h})),n[u+a]=f})});var i=ha(e,n);return va(n,i),la(n,e.graph().align)}function pa(e,t,r){return function(n,o,i){var u=n.node(o),a=n.node(i),s=0,c;if(s+=u.width/2,b(u,"labelpos"))switch(u.labelpos.toLowerCase()){case"l":c=-u.width/2;break;case"r":c=u.width/2;break}if(c&&(s+=r?c:-c),c=0,s+=(u.dummy?t:e)/2,s+=(a.dummy?t:e)/2,s+=a.width/2,b(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":c=a.width/2;break;case"r":c=-a.width/2;break}return c&&(s+=r?c:-c),c=0,s}}function ba(e,t){return e.node(t).width}function ma(e){e=Zt(e),wa(e),Ei(ga(e),function(t,r){e.node(r).x=t})}function wa(e){var t=ge(e),r=e.graph().ranksep,n=0;d(t,function(o){var i=S(_(o,function(u){return e.node(u).height}));d(o,function(u){e.node(u).y=n+i/2}),n+=i+r})}function Ya(e,t){var r=t&&t.debugTiming?gu:pu;r("layout",function(){var n=r("  buildLayoutGraph",function(){return Oa(e)});r("  runLayout",function(){ya(n,r)}),r("  updateInputGraph",function(){_a(e,n)})})}function ya(e,t){t("    makeSpaceForEdgeLabels",function(){Ma(e)}),t("    removeSelfEdges",function(){Ga(e)}),t("    acyclic",function(){su(e)}),t("    nestingGraph.run",function(){$u(e)}),t("    rank",function(){Su(Zt(e))}),t("    injectEdgeLabelProxies",function(){Ra(e)}),t("    removeEmptyRanks",function(){vu(e)}),t("    nestingGraph.cleanup",function(){Fu(e)}),t("    normalizeRanks",function(){hu(e)}),t("    assignRankMinMax",function(){Sa(e)}),t("    removeEdgeLabelProxies",function(){Aa(e)}),t("    normalize.run",function(){ju(e)}),t("    parentDummyChains",function(){ra(e)}),t("    addBorderSegments",function(){bu(e)}),t("    order",function(){ea(e)}),t("    insertSelfEdges",function(){Ba(e)}),t("    adjustCoordinateSystem",function(){mu(e)}),t("    position",function(){ma(e)}),t("    positionSelfEdges",function(){Va(e)}),t("    removeBorderNodes",function(){Fa(e)}),t("    normalize.undo",function(){xu(e)}),t("    fixupEdgeLabelCoords",function(){Da(e)}),t("    undoCoordinateSystem",function(){wu(e)}),t("    translateGraph",function(){Pa(e)}),t("    assignNodeIntersects",function(){$a(e)}),t("    reversePoints",function(){Ta(e)}),t("    acyclic.undo",function(){fu(e)})}function _a(e,t){d(e.nodes(),function(r){var n=e.node(r),o=t.node(r);n&&(n.x=o.x,n.y=o.y,t.children(r).length&&(n.width=o.width,n.height=o.height))}),d(e.edges(),function(r){var n=e.edge(r),o=t.edge(r);n.points=o.points,b(o,"x")&&(n.x=o.x,n.y=o.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var ja=["nodesep","edgesep","ranksep","marginx","marginy"],Ea={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},xa=["acyclicer","ranker","rankdir","align"],ka=["width","height"],Na={width:0,height:0},Ca=["minlen","weight","width","height","labeloffset"],Ia={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},La=["labelpos"];function Oa(e){var t=new k({multigraph:!0,compound:!0}),r=Ee(e.graph());return t.setGraph(xe({},Ea,je(r,ja),ae(r,xa))),d(e.nodes(),function(n){var o=Ee(e.node(n));t.setNode(n,gi(je(o,ka),Na)),t.setParent(n,e.parent(n))}),d(e.edges(),function(n){var o=Ee(e.edge(n));t.setEdge(n,xe({},Ia,je(o,Ca),ae(o,La)))}),t}function Ma(e){var t=e.graph();t.ranksep/=2,d(e.edges(),function(r){var n=e.edge(r);n.minlen*=2,n.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?n.width+=n.labeloffset:n.height+=n.labeloffset)})}function Ra(e){d(e.edges(),function(t){var r=e.edge(t);if(r.width&&r.height){var n=e.node(t.v),o=e.node(t.w),i={rank:(o.rank-n.rank)/2+n.rank,e:t};F(e,"edge-proxy",i,"_ep")}})}function Sa(e){var t=0;d(e.nodes(),function(r){var n=e.node(r);n.borderTop&&(n.minRank=e.node(n.borderTop).rank,n.maxRank=e.node(n.borderBottom).rank,t=S(t,n.maxRank))}),e.graph().maxRank=t}function Aa(e){d(e.nodes(),function(t){var r=e.node(t);r.dummy==="edge-proxy"&&(e.edge(r.e).labelRank=r.rank,e.removeNode(t))})}function Pa(e){var t=Number.POSITIVE_INFINITY,r=0,n=Number.POSITIVE_INFINITY,o=0,i=e.graph(),u=i.marginx||0,a=i.marginy||0;function s(c){var f=c.x,h=c.y,v=c.width,g=c.height;t=Math.min(t,f-v/2),r=Math.max(r,f+v/2),n=Math.min(n,h-g/2),o=Math.max(o,h+g/2)}d(e.nodes(),function(c){s(e.node(c))}),d(e.edges(),function(c){var f=e.edge(c);b(f,"x")&&s(f)}),t-=u,n-=a,d(e.nodes(),function(c){var f=e.node(c);f.x-=t,f.y-=n}),d(e.edges(),function(c){var f=e.edge(c);d(f.points,function(h){h.x-=t,h.y-=n}),b(f,"x")&&(f.x-=t),b(f,"y")&&(f.y-=n)}),i.width=r-t+u,i.height=o-n+a}function $a(e){d(e.edges(),function(t){var r=e.edge(t),n=e.node(t.v),o=e.node(t.w),i,u;r.points?(i=r.points[0],u=r.points[r.points.length-1]):(r.points=[],i=o,u=n),r.points.unshift(lt(n,i)),r.points.push(lt(o,u))})}function Da(e){d(e.edges(),function(t){var r=e.edge(t);if(b(r,"x"))switch((r.labelpos==="l"||r.labelpos==="r")&&(r.width-=r.labeloffset),r.labelpos){case"l":r.x-=r.width/2+r.labeloffset;break;case"r":r.x+=r.width/2+r.labeloffset;break}})}function Ta(e){d(e.edges(),function(t){var r=e.edge(t);r.reversed&&r.points.reverse()})}function Fa(e){d(e.nodes(),function(t){if(e.children(t).length){var r=e.node(t),n=e.node(r.borderTop),o=e.node(r.borderBottom),i=e.node(ue(r.borderLeft)),u=e.node(ue(r.borderRight));r.width=Math.abs(u.x-i.x),r.height=Math.abs(o.y-n.y),r.x=i.x+r.width/2,r.y=n.y+r.height/2}}),d(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function Ga(e){d(e.edges(),function(t){if(t.v===t.w){var r=e.node(t.v);r.selfEdges||(r.selfEdges=[]),r.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function Ba(e){var t=ge(e);d(t,function(r){var n=0;d(r,function(o,i){var u=e.node(o);u.order=i+n,d(u.selfEdges,function(a){F(e,"selfedge",{width:a.label.width,height:a.label.height,rank:u.rank,order:i+ ++n,e:a.e,label:a.label},"_se")}),delete u.selfEdges})})}function Va(e){d(e.nodes(),function(t){var r=e.node(t);if(r.dummy==="selfedge"){var n=e.node(r.e.v),o=n.x+n.width/2,i=n.y,u=r.x-o,a=n.height/2;e.setEdge(r.e,r.label),e.removeNode(t),r.label.points=[{x:o+2*u/3,y:i-a},{x:o+5*u/6,y:i-a},{x:o+u,y:i},{x:o+5*u/6,y:i+a},{x:o+2*u/3,y:i+a}],r.label.x=r.x,r.label.y=r.y}})}function je(e,t){return le(ae(e,t),Number)}function Ee(e){var t={};return d(e,function(r,n){t[n.toLowerCase()]=r}),t}export{D,_ as E,k as L,Be as U,b,d as c,Ya as j,ne as t,ae as u,gi as v,j as y};
