import{_ as l,$ as h,a0 as d,a1 as e,a2 as a,a3 as t,a4 as n,a5 as s,w as r}from"./framework-b3a0f150.js";const c="/assets/431974973335700-802dc2ee.png",p="/assets/432626452724700-6cf40815.png",u="/assets/432630809150500-738962c1.png",f="/assets/432770360556700-53975437.png",E="/assets/432832006568400-bd5facd8.png",_="/assets/432956352937000-aa634929.png",g="/assets/433052161706700-adfd3510.png",m="/assets/433237435722500-7630af31.png",b="/assets/431654460959200-9e29d415.png",B="/assets/433658683222900-eb6e61c3.png",k={},A=s('<h2 id="先说原理" tabindex="-1"><a class="header-anchor" href="#先说原理" aria-hidden="true">#</a> 先说原理</h2><p>原理就是，模拟notion的&quot;export all workspace content&quot;按钮的请求，得到notion返回的zip压缩包。</p><p>拿到zip压缩包后怎么处理，就看各自的需求了。</p><p>我这里拿到zip压缩包后的操作是：自动解压并推送到github的私有仓库中</p><h2 id="具体步骤" tabindex="-1"><a class="header-anchor" href="#具体步骤" aria-hidden="true">#</a> 具体步骤</h2><h3 id="一、创建或准备自己的私有仓库" tabindex="-1"><a class="header-anchor" href="#一、创建或准备自己的私有仓库" aria-hidden="true">#</a> 一、创建或准备自己的私有仓库</h3><p>可以是新建的私有仓库，也可以是已有仓库，但无论新建还是已有，都不能是空仓库，哪怕随便提交一个文件都可以。然后分支名要命名为main</p><p>我这里是创建的新仓库，仓库名就是： my-notion-backup （可以不一样，根据自身情况定义即可）</p><h3 id="二、fork仓库" tabindex="-1"><a class="header-anchor" href="#二、fork仓库" aria-hidden="true">#</a> 二、fork仓库</h3><p>这个仓库的作用就是完成上面说的工作：定时模拟notion导出请求，解压，推送</p>',10),x={href:"https://github.com/richartkeil/notion-guardian",target:"_blank",rel:"noopener noreferrer"},w={href:"https://github.com/rocky-peng/Keenster-notion-guardian",target:"_blank",rel:"noopener noreferrer"},C=e("h3",{id:"三、准备以下参数",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#三、准备以下参数","aria-hidden":"true"},"#"),a(" 三、准备以下参数")],-1),N=e("h4",{id:"repo-username",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#repo-username","aria-hidden":"true"},"#"),a(" REPO_USERNAME")],-1),S=e("p",null,"这个参数就是自己github的用户名，就是步骤二中自己fork的仓库地址中用户名那一节。",-1),y={href:"https://github.com/rocky-peng/Keenster-notion-guardian%EF%BC%8C%E9%82%A3rocky-peng%E5%B0%B1%E6%98%AFREPO_USERNAME",target:"_blank",rel:"noopener noreferrer"},F=e("h4",{id:"repo-personal-access-token",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#repo-personal-access-token","aria-hidden":"true"},"#"),a(" REPO_PERSONAL_ACCESS_TOKEN")],-1),O={href:"https://github.com/settings/tokens/new",target:"_blank",rel:"noopener noreferrer"},R=e("img",{src:c,alt:"",loading:"lazy"},null,-1),z=s('<h4 id="repo-name" tabindex="-1"><a class="header-anchor" href="#repo-name" aria-hidden="true">#</a> REPO_NAME</h4><p>这个参数就是步骤一中自己的私有仓库名字，我这里就是： my-notion-backup</p><h4 id="repo-email" tabindex="-1"><a class="header-anchor" href="#repo-email" aria-hidden="true">#</a> REPO_EMAIL</h4><p>这个参数一般配置为自己的邮箱，用于定义推送到私有仓库的用户。自己常用的邮箱即可</p><h4 id="notion-space-id" tabindex="-1"><a class="header-anchor" href="#notion-space-id" aria-hidden="true">#</a> NOTION_SPACE_ID</h4><p>进入自己的notion。看下图：</p><figure><img src="'+p+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>上图中缺失的3：</p><p>浏览器右键并点击&quot;检查&quot;</p><figure><img src="'+f+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>然后找到network或者网络，如下：</p><figure><img src="'+E+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>此时步骤3完成，可以继续步骤4</p><p>然后会出现弹框，如下：</p><figure><img src="'+_+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>继续点击红框按钮</p><p>然后此时在network或者网络下方找到下面的请求：</p><figure><img src="'+g+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>右下角的spaceId，就是我们要找的值，记录下来</p><h4 id="notion-token" tabindex="-1"><a class="header-anchor" href="#notion-token" aria-hidden="true">#</a> NOTION_TOKEN</h4><p><img src="'+m+'" alt="" loading="lazy"> 红框中 token_v2的值就是了，记录下来</p><h4 id="notion-user-id" tabindex="-1"><a class="header-anchor" href="#notion-user-id" aria-hidden="true">#</a> NOTION_USER_ID</h4><p>上图中红框中 notion_user_id 的值就是了，记录下来</p><h3 id="四、配置刚刚fork的仓库" tabindex="-1"><a class="header-anchor" href="#四、配置刚刚fork的仓库" aria-hidden="true">#</a> 四、配置刚刚fork的仓库</h3><h4 id="配置参数" tabindex="-1"><a class="header-anchor" href="#配置参数" aria-hidden="true">#</a> 配置参数</h4><figure><img src="'+b+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>按照上图的操作，依次创建上面的准备的参数，最后类似上图上图</p><h4 id="开启workflow" tabindex="-1"><a class="header-anchor" href="#开启workflow" aria-hidden="true">#</a> 开启workflow</h4><p>单击fork仓库上的“Actions”选项卡，然后单击启用按钮。</p><p>在左侧边栏上单击“Backup Notion Workspace”工作流程。通知将告诉您“计划的操作”已禁用，因此请继续并单击按钮以启用它们。</p><h2 id="测试" tabindex="-1"><a class="header-anchor" href="#测试" aria-hidden="true">#</a> 测试</h2><p>此时任意往fork的仓库中提交一点东西，就会触发actions动作</p><p>等待一会，刷新自己的私有仓库，看看是否有文件生成，类似如下：</p><figure><img src="'+B+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="修改定时备份频率" tabindex="-1"><a class="header-anchor" href="#修改定时备份频率" aria-hidden="true">#</a> 修改定时备份频率</h2><p>fork仓库默认是每天0点0分备份一次。可以通过修改工作流配置文件修改备份频率。一般一天一次足够</p><br><h2 id="系统推荐" tabindex="-1"><a class="header-anchor" href="#系统推荐" aria-hidden="true">#</a> 系统推荐</h2>',39),I=e("p",null,[e("br"),e("br"),e("br"),e("br"),e("br"),e("br")],-1),G=e("hr",null,null,-1),P=e("hr",null,null,-1),D=e("ul",null,[e("li",null,[e("strong",null,"随机毒鸡汤"),a("：两个人吵架，打他是解决不了问题的，但是解气啊。 "),e("br"),e("br"),e("img",{src:"https://images.pexels.com/photos/7006366/pexels-photo-7006366.jpeg?auto=compress&cs=tinysrgb&h=650&w=940",alt:"A crumpled brown paper on a pink background with the word 'thoughts' in focus.",loading:"lazy"})])],-1);function M(K,L){const i=r("ExternalLinkIcon"),o=r("RouterLink");return h(),d("div",null,[A,e("p",null,[a("仓库地址："),e("a",x,[a("https://github.com/richartkeil/notion-guardian"),t(i)])]),e("p",null,[a("也可以fork楼主的仓库："),e("a",w,[a("https://github.com/rocky-peng/Keenster-notion-guardian"),t(i)]),a(" （修改了中文时区并默认为子页面创建文件夹，方便管理）")]),C,N,S,e("p",null,[a("比如我的仓库地址："),e("a",y,[a("https://github.com/rocky-peng/Keenster-notion-guardian，那rocky-peng就是REPO_USERNAME"),t(i)])]),F,e("p",null,[a("这个参数在自己的github上创建，这里提供一个便捷链接： "),e("a",O,[a("https://github.com/settings/tokens/new"),t(i)]),R]),z,e("ul",null,[e("li",null,[t(o,{to:"/other/%E5%9C%A8%E6%B2%A1%E6%9C%89%20telnet%20%E5%92%8C%20nc%20%E7%9A%84%E4%B8%96%E7%95%8C%E9%87%8C%EF%BC%8C%E5%A6%82%E4%BD%95%E4%BC%98%E9%9B%85%E5%9C%B0%E5%88%A4%E6%96%AD%E7%AB%AF%E5%8F%A3%E6%98%AF%E5%90%A6%E9%80%9A%EF%BC%9F.html"},{default:n(()=>[a("在没有 telnet 和 nc 的世界里，如何优雅地判断端口是否通？")]),_:1})]),e("li",null,[t(o,{to:"/other/Git%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AA%E6%8F%90%E4%BA%A4%E5%B9%B6push%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93.html"},{default:n(()=>[a("Git合并多个提交并push到远程仓库")]),_:1})]),e("li",null,[t(o,{to:"/software/docker/Docker%E8%BF%9B%E8%A1%8C%E8%B5%84%E6%BA%90%E9%9A%94%E7%A6%BB.html"},{default:n(()=>[a("Docker进行资源隔离")]),_:1})]),e("li",null,[t(o,{to:"/software/unclassified/Btrace%E5%85%A5%E9%97%A8.html"},{default:n(()=>[a("Btrace入门")]),_:1})]),e("li",null,[t(o,{to:"/software/unclassified/KVM%E6%96%B9%E5%BC%8F%E9%9B%86%E7%BE%A4%E9%83%A8%E7%BD%B2ES.html"},{default:n(()=>[a("KVM方式集群部署ES")]),_:1})]),e("li",null,[t(o,{to:"/other/PGSQL%20GIN%E7%B4%A2%E5%BC%95%E2%80%9C%E5%A4%B1%E6%95%88%E2%80%9D.html"},{default:n(()=>[a("PGSQL GIN索引“失效”")]),_:1})]),e("li",null,[t(o,{to:"/software/shodowsocks/ShadowsockServer.html"},{default:n(()=>[a("ShadowsockServer")]),_:1})]),e("li",null,[t(o,{to:"/other/Sublime%20Text%20%E6%A0%BC%E5%BC%8F%E5%8C%96JSON.html"},{default:n(()=>[a("Sublime Text 格式化JSON")]),_:1})]),e("li",null,[t(o,{to:"/other/%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85Google%20BBR.html"},{default:n(()=>[a("如何安装Google BBR")]),_:1})]),e("li",null,[t(o,{to:"/software/unclassified/%E7%BA%BF%E4%B8%8AFullGC%E9%A2%91%E7%B9%81%E7%9A%84%E6%8E%92%E6%9F%A5.html"},{default:n(()=>[a("线上FullGC频繁的排查")]),_:1})]),e("li",null,[t(o,{to:"/software/java-basic/%E5%B8%B8%E7%94%A8%E9%98%9F%E5%88%97.html"},{default:n(()=>[a("常用队列")]),_:1})]),e("li",null,[t(o,{to:"/software/middleware/mq/RocketMQ.html"},{default:n(()=>[a("RocketMQ")]),_:1})])]),I,G,P,D])}const v=l(k,[["render",M],["__file","Notion笔记定时备份.html.vue"]]);export{v as default};
