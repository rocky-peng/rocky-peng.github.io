import{_ as e,$ as p,a0 as l,a1 as s,a3 as t,a4 as o,a5 as c,a2 as n,w as r}from"./framework-16d560c6.js";const i={},u=c(`<p>再github上跑了一个工作流，主要就是执行<code>npm install</code>，<code>npm run docs:build</code></p><p>使用的package.json如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-blogs&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;my-blogs&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;MIT&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;docs:build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress build src&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;docs:clean-dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev src --clean-cache&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;docs:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev src&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;@vuepress/client&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.61&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;@vuepress/plugin-google-analytics&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.0.0-beta.61&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vue&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.47&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.61&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress-plugin-china-search-console&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.1.5&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress-plugin-components&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.184&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress-plugin-search-pro&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.184&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;vuepress-theme-hope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2.0.0-beta.184&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再workflow中指定了node的版本是：16.18.1</p><p>上面的配置一直都在正常跑，估计正常跑了大半年之久，突然在2024-01-26号github发来npm install报错邮件。</p><p>错误信息大致如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>npm <span class="token constant">ERR</span><span class="token operator">!</span> code <span class="token constant">ERESOLVE</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token constant">ERESOLVE</span> unable <span class="token keyword">to</span> <span class="token namespace">resolve</span> dependency tree
npm <span class="token constant">ERR</span><span class="token operator">!</span> 
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">While</span> resolving<span class="token operator">:</span> my<span class="token operator">-</span>blogs<span class="token annotation punctuation">@2.0.0</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">Found</span><span class="token operator">:</span> vuepress<span class="token annotation punctuation">@2.0.0</span><span class="token operator">-</span>beta<span class="token punctuation">.</span><span class="token number">61</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> node_modules<span class="token operator">/</span>vuepress
npm <span class="token constant">ERR</span><span class="token operator">!</span>   dev vuepress@<span class="token string">&quot;2.0.0-beta.61&quot;</span> from the root project
npm <span class="token constant">ERR</span><span class="token operator">!</span> 
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">Could</span> not resolve dependency<span class="token operator">:</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> peer vuepress@<span class="token string">&quot;2.0.0-rc.2&quot;</span> from <span class="token annotation punctuation">@vuepress</span><span class="token operator">/</span>plugin<span class="token operator">-</span>google<span class="token operator">-</span>analytics<span class="token annotation punctuation">@2.0.0</span><span class="token operator">-</span>rc<span class="token punctuation">.</span><span class="token number">1</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> node_modules<span class="token operator">/</span><span class="token annotation punctuation">@vuepress</span><span class="token operator">/</span>plugin<span class="token operator">-</span>google<span class="token operator">-</span>analytics
npm <span class="token constant">ERR</span><span class="token operator">!</span>   dev <span class="token annotation punctuation">@vuepress</span><span class="token operator">/</span>plugin<span class="token operator">-</span>google<span class="token operator">-</span>analytics@<span class="token string">&quot;^2.0.0-beta.61&quot;</span> from the root project
npm <span class="token constant">ERR</span><span class="token operator">!</span> 
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">Fix</span> the upstream dependency conflict<span class="token punctuation">,</span> or retry
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token keyword">this</span> command <span class="token keyword">with</span> <span class="token operator">--</span>force<span class="token punctuation">,</span> or <span class="token operator">--</span>legacy<span class="token operator">-</span>peer<span class="token operator">-</span>deps
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token keyword">to</span> <span class="token namespace">accept</span> an incorrect <span class="token punctuation">(</span>and potentially broken<span class="token punctuation">)</span> dependency resolution<span class="token punctuation">.</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> 
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">See</span> <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span><span class="token punctuation">.</span>npm<span class="token operator">/</span>eresolve<span class="token operator">-</span>report<span class="token punctuation">.</span>txt <span class="token keyword">for</span> a full report<span class="token punctuation">.</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span> <span class="token class-name">A</span> complete log of <span class="token keyword">this</span> run can be found in<span class="token operator">:</span>
npm <span class="token constant">ERR</span><span class="token operator">!</span>     <span class="token operator">/</span>home<span class="token operator">/</span>runner<span class="token operator">/</span><span class="token punctuation">.</span>npm<span class="token operator">/</span>_logs<span class="token operator">/</span><span class="token number">2024</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">29</span><span class="token constant">T10_29_19_566Z</span><span class="token operator">-</span>debug<span class="token operator">-</span><span class="token number">0.l</span>og
<span class="token class-name">Error</span><span class="token operator">:</span> <span class="token class-name">Process</span> completed <span class="token keyword">with</span> <span class="token namespace">exit</span> code <span class="token number">1.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后本地用同样的node版本，同样的配置执行又可以正常执行</p><p>然后各种搜资料，问CHATGPT，都没能正常解决。后来无意发现package.json文件中有<code>^</code> 符合，这个符合是做一些版本兼容用的。</p><p>具体来说，如果一个包的版本号是 <strong><code>^X.Y.Z</code></strong>，那么 npm 将会允许安装的版本范围包括从 <strong><code>X.Y.Z</code></strong> 到 <strong><code>X.(Y+1).0</code></strong> 的任何版本，但不包括主版本号 <strong><code>X</code></strong> 的更改</p><p>这也就解释了，为什么package.json中明明没有2.0.0-rc.2版本的依赖，但错误信息却有。</p><p>所以尝试着把<code>^</code> 删除，然后重试，<strong><code>成功了</code></strong></p><figure><img src="https://cdn.justdopay.com/notion/md5-e23817114a2dc4f30cb612c3c699c423.svg" alt="Untitled" tabindex="0" loading="lazy"><figcaption>Untitled</figcaption></figure><br><h2 id="系统推荐" tabindex="-1"><a class="header-anchor" href="#系统推荐" aria-hidden="true">#</a> 系统推荐</h2>`,15),d=s("p",null,[s("br"),s("br"),s("br"),s("br"),s("br"),s("br")],-1),k=s("hr",null,null,-1),m=s("hr",null,null,-1),v=s("ul",null,[s("li",null,[s("strong",null,"随机毒鸡汤"),n("：你的感情路顺吗？顺啊，一路都没遇到什么人。 "),s("br"),s("br"),s("img",{src:"https://tuapi.eees.cc/api.php?category=fengjing&type=302&uuid=f77e4fee-c47b-4375-8347-93f0e6ab1070",alt:"",loading:"lazy"})])],-1);function E(g,b){const a=r("RouterLink");return p(),l("div",null,[u,s("ul",null,[s("li",null,[t(a,{to:"/other/Git%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AA%E6%8F%90%E4%BA%A4%E5%B9%B6push%E5%88%B0%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93.html"},{default:o(()=>[n("Git合并多个提交并push到远程仓库")]),_:1})]),s("li",null,[t(a,{to:"/software/unclassified/Btrace%E5%85%A5%E9%97%A8.html"},{default:o(()=>[n("Btrace入门")]),_:1})]),s("li",null,[t(a,{to:"/other/MySQL%E9%AB%98%E5%8F%AF%E7%94%A8.html"},{default:o(()=>[n("MySQL高可用")]),_:1})]),s("li",null,[t(a,{to:"/other/%E6%98%AF%E6%97%B6%E5%80%99%E4%BD%BF%E7%94%A8MapStruct%E6%9B%BF%E4%BB%A3BeanUtils%E4%BA%86.html"},{default:o(()=>[n("是时候使用MapStruct替代BeanUtils了")]),_:1})]),s("li",null,[t(a,{to:"/other/Censys%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%AD%A6%E4%B9%A0.html"},{default:o(()=>[n("Censys搜索引擎学习")]),_:1})]),s("li",null,[t(a,{to:"/software/middleware/mysql/MySQL%E9%94%81%E3%80%81%E4%BA%8B%E5%8A%A1%E3%80%81%E9%9A%94%E7%A6%BB%E7%BA%A7%E5%88%AB.html"},{default:o(()=>[n("MySQL锁、事务、隔离级别")]),_:1})]),s("li",null,[t(a,{to:"/software/unclassified/index%E6%96%B9%E6%B3%95%E5%8E%8B%E5%8A%9B%E6%B5%8B%E8%AF%95%E8%AE%B0%E5%BD%95.html"},{default:o(()=>[n("index方法压力测试记录")]),_:1})]),s("li",null,[t(a,{to:"/software/docker/Docker%E7%AC%94%E8%AE%B0.html"},{default:o(()=>[n("Docker笔记")]),_:1})]),s("li",null,[t(a,{to:"/software/unclassified/%E5%88%B6%E4%BD%9CKVM%20ES%E9%95%9C%E5%83%8F%E6%96%87%E4%BB%B6.html"},{default:o(()=>[n("制作KVM ES镜像文件")]),_:1})]),s("li",null,[t(a,{to:"/software/unclassified/Javassist%E6%95%B4%E7%90%86.html"},{default:o(()=>[n("Javassist整理")]),_:1})]),s("li",null,[t(a,{to:"/software/middleware/es/ESRally%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95%E6%AD%A5%E9%AA%A4.html"},{default:o(()=>[n("ESRally性能测试步骤")]),_:1})]),s("li",null,[t(a,{to:"/other/WebSocket%20SpringBoot%20Demo.html"},{default:o(()=>[n("WebSocket SpringBoot Demo")]),_:1})])]),d,k,m,v])}const h=e(i,[["render",E],["__file","GitHub Workflow突然报错.html.vue"]]);export{h as default};
